import{o as He,Y as et,F as Ie,Z as ht,_ as qt,m as pt,$ as Xt,I as St,a0 as tt,G as Zt,R as Jt,w as je,T as ze,O as Qt,a as en,Q as tn,U as nn,u as on}from"./index-LvVOA0P4.js";import{d as gt,z as rn,x as xt,t as sn,h as ie,w as an,S as bt,u as D,j as i,p as yt,o as Be,q as vt,f as ln,s as B,X as $e,Y as pe,l as cn,g as un,e as dn}from"./Stacks-0gbGCfo_.js";import{P as mn,a as fn,b as hn}from"./GorhomPortal-iqDikvYy.js";import{r,R as pn}from"./index-4g5l5LRQ.js";import{F as Sn,a as gn,u as Ct,C as xn,i as bn,L as wt,b as yn,c as vn,d as Cn,e as wn,f as In,g as Rn,h as Pn,O as En,A as Nn,B as Tn,j as Mn}from"./Popover-ecl2xeOz.js";import{D as nt,V as It,P as Rt,r as ke,z as Pt}from"./EventEmitter-8bYFdwfg.js";import{u as Re,a as An}from"./index-o7np2shc.js";import{b as ot,u as On,L as Et}from"./ListItem-ZhdiTpgl.js";import{S as We,P as _n}from"./Headings-cv8zjVaZ.js";import{S as jn}from"./Separator-E22qkthY.js";const Nt=()=>gt()?rn:!1,Pe="Sheet",Tt="SheetHandle",Mt="SheetOverlay",fe=xt?document.createElement("style"):null;fe&&document.head.appendChild(fe);const[kn,Ho]=He(Pe),[Ln,Ce]=kn(Pe,{}),Vn=()=>{const[e,n]=r.useState(!1);return r.useEffect(()=>{const t=et.addListener("keyboardDidShow",()=>{n(!0)}),o=et.addListener("keyboardDidHide",()=>{n(!1)});return()=>{o.remove(),t.remove()}},[]),e},rt=r.createContext({zIndex:1e5}),Dn=r.createContext(null);function st(e,n,t=25){if(e<n){const o=n-e,a=-(1.1-.1**(Math.min(t,o)/t))*t;return n+a}return e}const At=()=>{const e=r.useContext(Ot),n=e==null?void 0:e.hidden,t=n&&(e==null?void 0:e.open);return{controller:e,isHidden:n,isShowingNonSheet:t,disableDrag:e==null?void 0:e.disableDrag}},Ot=r.createContext(null),Fn=e=>{const{isHidden:n,controller:t}=At(),o=s=>{var d,f;(d=t==null?void 0:t.onOpenChange)==null||d.call(t,s),(f=e.onOpenChange)==null||f.call(e,s)},[a,l]=Ie({prop:(t==null?void 0:t.open)??e.open,defaultProp:e.defaultOpen??!1,onChange:o,strategy:"most-recent-wins",transition:!0});return{open:a,setOpen:l,isHidden:n,controller:t}};function Hn(e,n,t={}){const o=pn.useRef(null),[a,l]=r.useState(0),[s,d]=r.useState(0),f=e.snapPointsMode??"percent",u=e.snapPoints??(f==="percent"?[80]:f==="constant"?[256]:["fit"]),c=u[0]==="fit",m=r.useMemo(()=>e.dismissOnSnapToBottom?[...u,0]:u,[JSON.stringify(u),e.dismissOnSnapToBottom]),[h,g]=Ie({prop:e.position,defaultProp:e.defaultPosition||(n.open?0:-1),onChange:e.onPositionChange,strategy:"most-recent-wins",transition:!0}),C=n.open===!1?-1:h,{open:S}=n,P=r.useCallback(v=>{e.dismissOnSnapToBottom&&v===m.length-1?n.setOpen(!1):g(v)},[e.dismissOnSnapToBottom,m.length,g,n.setOpen]);S&&e.dismissOnSnapToBottom&&C===m.length-1&&g(0);const x=S&&C<0;r.useEffect(()=>{x&&P(0)},[P,x]);const{animationDriver:E}=ht();if(!E)throw new Error("Must set animations in tamagui.config.ts");const k=qt(()=>({enabled:!1,y:0,paneY:0,paneMinY:0,scrollStartY:-1,drag:()=>{},release:()=>{},scrollLock:!1})),O=e.forceRemoveScrollEnabled??(S&&e.modal),N=m[0];return{screenSize:f==="percent"?a/((typeof N=="number"?N:100)/100):s,maxSnapPoint:N,removeScrollEnabled:O,scrollBridge:k,modal:!!e.modal,open:n.open,setOpen:n.setOpen,hidden:!!n.isHidden,contentRef:o,frameSize:a,setFrameSize:l,dismissOnOverlayPress:e.dismissOnOverlayPress??!0,dismissOnSnapToBottom:e.dismissOnSnapToBottom??!1,onOverlayComponent:t.onOverlayComponent,scope:e.__scopeSheet,hasFit:c,position:C,snapPoints:m,snapPointsMode:f,setMaxContentSize:d,setPosition:P,setPositionImmediate:g,onlyShowFrame:!1}}let ve=10000.1;const zn=sn(r.forwardRef(function(e,n){const t=r.useContext(rt),{animation:o,animationConfig:a,modal:l=!1,zIndex:s=t.zIndex+1,moveOnKeyboardChange:d=!1,unmountChildrenWhenHidden:f=!1,portalProps:u}=e,c=Vn(),m=Fn(e),[h,g]=r.useState(null),C=Hn(e,m,{onOverlayComponent:g}),{frameSize:S,setFrameSize:P,snapPoints:x,snapPointsMode:E,hasFit:k,position:O,setPosition:N,scrollBridge:v,screenSize:w,setMaxContentSize:I,maxSnapPoint:R}=C,{open:p,controller:M,isHidden:L}=m,V=r.useRef(null),F=ie(n,V),X=(()=>{const[y,A]=o?Array.isArray(o)?o:[o]:[];return a??(y?{...an().animations.animations[y],...A}:null)})(),[$,Z]=r.useState(!1),T=!Be,H=r.useContext(Dn);r.useCallback(y=>{Z(y)},[]);const W=r.useMemo(()=>x.map(y=>Bn(E,y,w,S)),[w,S,x,E]),{animationDriver:se}=ht(),{useAnimatedNumber:z,useAnimatedNumberStyle:_,useAnimatedNumberReaction:K}=se,j=se.View??bt;D(()=>{if(H&&p)return H(!0),()=>{H(!1)}},[H,p]);const J=r.useMemo(()=>({zIndex:s}),[s]),G=z(ve),Q=r.useRef(ve);K({value:G,hostRef:V},r.useCallback(y=>{Q.current=y,v.paneY=y},[se]));function ue(){G.stop(),v.onFinishAnimate&&(v.onFinishAnimate(),v.onFinishAnimate=void 0)}const ee=Q.current===ve,de=Re(y=>{if(S===0)return;let A=L||y===-1?w:W[y];if(Q.current!==A){if(Q.current=A,ue(),ee||L){if(G.setValue(w,{type:"timing",duration:0}),L)return;A=W[y],Q.current=A}G.setValue(A,{type:"spring",...X})}});D(()=>{w&&ee&&G.setValue(w,{type:"timing",duration:0})},[ee,w]),D(()=>{!S||!w||L||ee&&!p||de(O)},[L,S,w,p,O]);const b=e.disableDrag??(M==null?void 0:M.disableDrag),U=pt(),[me,ge]=r.useState(!1),le=r.useMemo(()=>{if(b||!S||$)return;const y=W[0];v.paneMinY=y;let A=Q.current;function oe(te){ge(te),fe&&(te?fe.innerText=":root * { user-select: none !important; -webkit-user-select: none !important; }":fe.innerText="")}const Ze=({vy:te,dragAt:Y})=>{Ae=!1,oe(!1);const re=Y+A+S*te*.2;let ae=0,be=1/0;for(let ye=0;ye<W.length;ye++){const Oe=W[ye],Qe=re>Oe?re-Oe:Oe-re;Qe<be&&(be=Qe,ae=ye)}N(ae),de(ae)},Me=(te,Y)=>{Ze({vy:Y.vy,dragAt:Y.dy})},Kt=(te,{dy:Y})=>{const re=v.y!==0,ae=Y<0,be=v.paneY-5<=v.paneMinY;return re||be&&!re&&ae?!1:Math.abs(Y)>5},Je=()=>{oe(!0),ue(),A=Q.current};let Ae=!1;return v.drag=te=>{Ae||(Ae=!0,Je());const Y=te+A;G.setValue(st(Y,y),{type:"direct"})},v.release=Ze,Xt.create({onMoveShouldSetPanResponder:Kt,onPanResponderGrant:Je,onPanResponderMove:(te,{dy:Y})=>{const re=Y+A,ae=st(re,y);G.setValue(ae,{type:"direct"})},onPanResponderEnd:Me,onPanResponderTerminate:Me,onPanResponderRelease:Me})},[b,$,de,S,W,N]),xe=r.useCallback(y=>{var oe;const A=Math.min((oe=y.nativeEvent)==null?void 0:oe.layout.height,nt.get("window").height);A&&P(A)},[c]),Wt=r.useCallback(y=>{var oe;const A=Math.min((oe=y.nativeEvent)==null?void 0:oe.layout.height,nt.get("window").height);A&&I(A)},[c]),Gt=_(G,y=>{"worklet";return{transform:[{translateY:S===0?ve:y}]}});r.useRef(null),r.useEffect(()=>{},[d]);const[Te,Ke]=r.useState(p?1:0);p&&Te===0&&Ke(1),r.useEffect(()=>{if(!p){const y=setTimeout(()=>{Ke(0)},400);return()=>{clearTimeout(y)}}},[p]);const qe=k?void 0:E==="percent"?`${R}%`:R,Xe=i.jsx(rt.Provider,{value:J,children:i.jsxs(Ln,{...C,children:[i.jsx(St,{enterExitVariant:"open",children:p?h:null}),E!=="percent"&&i.jsx(It,{style:{opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},pointerEvents:"none",onLayout:Wt}),i.jsx(j,{ref:F,...le==null?void 0:le.panHandlers,onLayout:xe,pointerEvents:p&&!T?"auto":"none",...!me&&{animation:o},style:[{position:"absolute",zIndex:s,width:"100%",height:qe,minHeight:qe,opacity:Te},Gt],children:e.children})]})}),Ut=r.useContext(tt),Yt=!!(Te||!f);return l?i.jsx(mn,{zIndex:s,...u,children:Yt&&i.jsx(yt,{forceClassName:!0,name:U,children:i.jsx(tt.Provider,{value:Ut,children:Xe})})}):Xe}));function Bn(e,n,t,o){if(!t||!o)return 0;if(e==="mixed"){if(typeof n=="number")return t-Math.min(t,Math.max(0,n));if(n==="fit")return t-Math.min(t,o);if(n.endsWith("%")){const l=Math.min(100,Math.max(0,Number(n.slice(0,-1))))/100;return Number.isNaN(l)?(console.warn("Invalid snapPoint percentage string"),0):Math.round(t-l*t)}return console.warn("Invalid snapPoint unknown value"),0}if(e==="fit")return n===0?t:t-Math.min(t,o);if(e==="constant"&&typeof n=="number")return t-Math.min(t,Math.max(0,n));const a=Math.min(100,Math.max(0,Number(n)))/100;return Number.isNaN(a)?(console.warn("Invalid snapPoint percentage"),0):Math.round(t-a*t)}const $n="SheetScrollView",Wn=r.forwardRef(({__scopeSheet:e,children:n,onScroll:t,...o},a)=>{const l=Ce($n,e),{scrollBridge:s}=l,d=r.useRef(null),f=r.useRef({lastPageY:0,dragAt:0,dys:[],isScrolling:!1,isDragging:!1}),u=()=>{if(!f.current.isDragging)return;f.current.isDragging=!1,s.scrollStartY=-1,f.current.isScrolling=!1;let c=0;if(f.current.dys.length){const m=f.current.dys.slice(-10);c=(m.length?m.reduce((h,g)=>h+g,0):0)/m.length*.04}f.current.dys=[],s.release({dragAt:f.current.dragAt,vy:c})};return i.jsx(Zt,{ref:vt(d,a),flex:1,scrollEventThrottle:8,onScroll:c=>{const{y:m}=c.nativeEvent.contentOffset;s.y=m,m>0&&(s.scrollStartY=-1),t==null||t(c)},onStartShouldSetResponder:()=>(s.scrollStartY=-1,f.current.isDragging=!0,!0),onMoveShouldSetResponder:()=>!1,onResponderRelease:u,className:"_ovs-contain",...o,children:r.useMemo(()=>n,[n])})}),Gn=({snapPoints:e,position:n,screenSize:t,frameSize:o,snapPointsMode:a})=>{if(a==="fit")return 0;if(a==="constant"){const c=Number(e[0]),m=Number(e[n]??0);return c-m}if(a==="percent"){const c=Number(e[0])/100,m=Number(e[n]??0)/100;return(c-m)*t}const l=e[0];if(l==="fit")return 0;const s=typeof l=="string"?Number(l.slice(0,-1))/100*t:l,d=e[n]??0,f=typeof d=="string"?Number(d.slice(0,-1))/100*t:d,u=s-f;return Number.isNaN(u)?0:u};function Un({Handle:e,Frame:n,Overlay:t}){const o=e.extractable(({__scopeSheet:u,...c})=>{const m=Ce(Tt,u);return m.onlyShowFrame?null:i.jsx(e,{onPress:()=>{const h=m.snapPoints.length+(m.dismissOnSnapToBottom?-1:0),g=(m.position+1)%h;m.setPosition(g)},open:m.open,...c})}),a=t.extractable(r.memo(u=>{const{__scopeSheet:c,...m}=u,h=Ce(Mt,c),g=r.useMemo(()=>i.jsx(t,{...m,onPress:ln(m.onPress,h.dismissOnOverlayPress?()=>{h.setOpen(!1)}:void 0)}),[m.onPress,h.dismissOnOverlayPress]);return D(()=>{var C;(C=h.onOverlayComponent)==null||C.call(h,g)},[g]),h.onlyShowFrame,null})),l=n.extractable(r.forwardRef(({__scopeSheet:u,adjustPaddingForOffscreenContent:c,disableHideBottomOverflow:m,children:h,...g},C)=>{const S=Ce(Pe,u),{hasFit:P,removeScrollEnabled:x,frameSize:E,contentRef:k}=S,O=ie(C,k),N=Gn(S),v=r.useMemo(()=>i.jsxs(n,{ref:O,flex:P?0:1,height:P?void 0:E,...g,children:[h,c&&i.jsx(bt,{"data-sheet-offscreen-pad":!0,height:N,width:"100%"})]}),[g,E,N,c,P]);return i.jsxs(i.Fragment,{children:[i.jsx(Jt,{forwardProps:!0,enabled:x,allowPinchZoom:!0,shards:[k],removeScrollBar:!1,children:v}),!m&&i.jsx(n,{...g,componentName:"SheetCover",children:null,position:"absolute",bottom:"-50%",zIndex:-1,height:S.frameSize,left:0,right:0,borderWidth:0,borderRadius:0,shadowOpacity:0})]})})),s=r.forwardRef(function(u,c){const m=gt(),{isShowingNonSheet:h}=At();let g=zn;return u.native&&Rt.OS,h||!m?null:i.jsx(g,{ref:c,...u})}),d={Frame:l,Overlay:a,Handle:o,ScrollView:Wn},f=je(s,d);return je(s,{...d,Controlled:f})}var Ge={};const Yn=B($e,{name:Tt,variants:{open:{true:{pointerEvents:"auto"},false:{opacity:0,pointerEvents:"none"}},unstyled:{false:{height:10,borderRadius:100,backgroundColor:"$background",zIndex:10,marginHorizontal:"35%",marginBottom:"$2",opacity:.5,hoverStyle:{opacity:.7}}}},defaultVariants:{unstyled:Ge.TAMAGUI_HEADLESS==="1"}}),Kn=B(ze,{name:Mt,variants:{open:{true:{opacity:1,pointerEvents:"auto"},false:{opacity:0,pointerEvents:"none"}},unstyled:{false:{fullscreen:!0,position:"absolute",backgrounded:!0,zIndex:99999,pointerEvents:"auto"}}},defaultVariants:{unstyled:Ge.TAMAGUI_HEADLESS==="1"}}),qn=B(pe,{name:Pe,variants:{unstyled:{false:{flex:1,backgroundColor:"$background",borderTopLeftRadius:"$true",borderTopRightRadius:"$true",width:"100%",maxHeight:"100%",overflow:"hidden"}}},defaultVariants:{unstyled:Ge.TAMAGUI_HEADLESS==="1"}}),Xn=Un({Frame:qn,Handle:Yn,Overlay:Kn}),Zn=({children:e,onOpenChange:n,...t})=>{const o=Re(n),a=r.useMemo(()=>({open:t.open,hidden:t.hidden,disableDrag:t.disableDrag,onOpenChange:o}),[o,t.open,t.hidden,t.disableDrag]);return i.jsx(Ot.Provider,{value:a,children:e})},Se="Select",at=8,it=8,Le="SelectViewport",[Ee,zo]=He(Se),[Ue,ne]=Ee(Se);He(Se);const[Ye,q]=Ee(Se),Jn=({__scopeSelect:e,context:n,itemContext:t,children:o})=>i.jsx(Ue,{isInSheet:!0,scope:e,...n,children:i.jsx(Ye,{scope:e,...t,children:o})}),Ne=e=>{const n=cn();return e?e===!0?!0:e?n[e]:!1:!1},_t=e=>{const n=Ne(e.sheetBreakpoint);return e.open===!1?!1:n},lt="SelectContent",Qn=({children:e,__scopeSelect:n,zIndex:t=1e3,...o})=>{const a=ne(lt,n),l=q(lt,n),s=pt(),d=_t(a),f=i.jsx(yt,{forceClassName:!0,name:s,children:e}),u=Nt(),c=r.useMemo(()=>({zIndex:t,pointerEvents:a.open?"auto":"none"}),[a.open]);return l.shouldRenderWebNative?i.jsx(i.Fragment,{children:e}):d?a.open?i.jsx(i.Fragment,{children:f}):null:i.jsx(Sn,{children:i.jsx(gn,{style:c,lockScroll:!a.disablePreventBodyScroll&&!!a.open&&!u,children:i.jsx(Qt,{loop:!0,enabled:!!a.open,trapped:!0,...o,children:f})})})},eo=e=>{const{__scopeSelect:n,children:t,open:o=!1,selectedIndexRef:a,listContentRef:l}=e,s=ne("SelectSheetImpl",n),d=q("SelectSheetImpl",n),{setActiveIndex:f,selectedIndex:u,activeIndex:c,forceUpdate:m}=s,{setOpen:h,setSelectedIndex:g}=d,[C,S]=r.useState(0),P=Nt(),x=r.useRef([]),E=r.useRef(null),k=r.useRef(null),O=r.useRef(null),N=r.useRef(!1),v=r.useRef(!0),w=r.useRef(),I=r.useRef({isMouseOutside:!1}),[R,p]=r.useState(!1),[M,L]=r.useState(!1),[V,F]=r.useState(0),[X,$]=r.useState(!1),Z=r.useRef({});D(()=>{queueMicrotask(()=>{o||(S(0),L(!1),f(null),p(!1))})},[o,f]),xt&&D(()=>{if(!o)return;const b=U=>{I.current.isMouseOutside&&h(!1)};return document.addEventListener("mouseup",b),()=>{document.removeEventListener("mouseup",b)}},[o]);const T=[P?En({crossAxis:!0,padding:at}):Nn({padding:at})],{x:H,y:W,strategy:se,context:z,refs:_,update:K}=Ct({open:o,onOpenChange:h,placement:"bottom-start",middleware:[xn({apply({rects:{reference:{width:b}}}){Z.current={minWidth:b+8}}}),...T,bn({listRef:x,overflowRef:E,index:u,offset:V,padding:10,minItemsVisible:P?10:4,referenceOverflowThreshold:20}),wt({crossAxis:-5})]});D(()=>(window.addEventListener("resize",K),o&&K(),()=>window.removeEventListener("resize",K)),[K,o]);const j=_.floating,J=o&&C>it,G=o&&j.current&&C<j.current.scrollHeight-j.current.clientHeight-it,Q=Re(b=>(o?f:g)(b)),ue=[yn(z,{event:"mousedown"}),vn(z,{outsidePress:!1}),Cn(z,{role:"listbox"}),wn(z,{enabled:!M&&(!!J||!!G),onChange:F,overflowRef:E,scrollRef:_.floating}),In(z,{listRef:x,activeIndex:c||0,selectedIndex:u,onNavigate:f}),Rn(z,{listRef:l,onMatch:Q,selectedIndex:u,activeIndex:c})],ee=Pn(r.useMemo(()=>ue,ue)),de=r.useMemo(()=>({...ee,getReferenceProps(){return ee.getReferenceProps({ref:_.reference,className:"SelectTrigger",onKeyDown(b){(b.key==="Enter"||b.key===" "&&!z.dataRef.current.typing)&&(b.preventDefault(),h(!0))}})},getFloatingProps(b){return ee.getFloatingProps({ref:_.floating,className:"Select",...b,style:{position:se,top:W??"",left:H??"",outline:0,scrollbarWidth:"none",...Z.current,...b==null?void 0:b.style},onPointerEnter(){p(!1),I.current.isMouseOutside=!1},onPointerLeave(){I.current.isMouseOutside=!0},onPointerMove(){I.current.isMouseOutside=!1,p(!1)},onKeyDown(){p(!0)},onContextMenu(U){U.preventDefault()},onScroll(U){ke.flushSync(()=>S(U.currentTarget.scrollTop))}})}}),[_.reference.current,H,W,_.floating.current,ee]);return D(()=>{if(o)return w.current=setTimeout(()=>{N.current=!0},300),()=>{clearTimeout(w.current)};N.current=!1,v.current=!0,F(0),L(!1),$(!1)},[o]),D(()=>{!o&&I.current.isMouseOutside&&(I.current.isMouseOutside=!1)},[o]),D(()=>{function b(U){var ge,le,xe;const me=U.target;(ge=_.floating.current)!=null&&ge.contains(me)||(le=k.current)!=null&&le.contains(me)||(xe=O.current)!=null&&xe.contains(me)||(h(!1),p(!1))}if(o)return document.addEventListener("pointerdown",b),()=>{document.removeEventListener("pointerdown",b)}},[o,_,h]),r.useEffect(()=>{var b,U;o&&R&&c!=null&&((b=x.current[c])==null||b.scrollIntoView({block:"nearest"})),S(((U=_.floating.current)==null?void 0:U.scrollTop)??0)},[o,_,R,c]),r.useEffect(()=>{var b;o&&M&&u!=null&&((b=x.current[u])==null||b.scrollIntoView({block:"nearest"}))},[o,M,u]),D(()=>{_.floating.current&&M&&(_.floating.current.style.maxHeight="")},[_,M]),i.jsx(Ue,{scope:n,...s,setScrollTop:S,setInnerOffset:F,fallback:M,floatingContext:z,activeIndex:c,canScrollDown:!!G,canScrollUp:!!J,controlledScrolling:R,blockSelection:X,upArrowRef:k,downArrowRef:O,update:K,children:i.jsx(Ye,{scope:n,...d,allowMouseUpRef:v,allowSelectRef:N,dataRef:z.dataRef,interactions:de,listRef:x,selectTimeoutRef:w,children:t})})},Ve="SelectItem",[to,jt]=Ee(Ve),no=ot.styleable(function(e,n){const{__scopeSelect:t,value:o,disabled:a=!1,textValue:l,index:s,...d}=e,{props:f}=On({...!e.unstyled&&{ellipse:!0},...d}),u=q(Ve,t),{setSelectedIndex:c,listRef:m,setOpen:h,onChange:g,activeIndexSubscribe:C,valueSubscribe:S,allowMouseUpRef:P,allowSelectRef:x,setValueAtIndex:E,selectTimeoutRef:k,dataRef:O,interactions:N,shouldRenderWebNative:v,size:w,onActiveChange:I,initialValue:R}=u,[p,M]=r.useState(R===o),[L,V]=r.useState(!1);r.useEffect(()=>C(T=>{const H=s===T;V(H),H&&I(o,s)}),[s]),r.useEffect(()=>S(T=>{M(T===o)}),[o]);const F=r.useId(),X=ie(n,T=>{T instanceof HTMLElement&&m&&(m.current[s]=T)});D(()=>{E(s,o)},[s,E,o]);function $(){c(s),g(o),h(!1)}const Z=r.useMemo(()=>N?N.getItemProps({onTouchMove(){x.current=!0,P.current=!1},onTouchEnd(){x.current=!1,P.current=!0},onKeyDown(T){T.key==="Enter"||T.key===" "&&!(O!=null&&O.current.typing)?(T.preventDefault(),$()):x.current=!0},onClick(){x.current&&$()},onMouseUp(){P.current&&(x.current&&$(),clearTimeout(k.current),k.current=setTimeout(()=>{x.current=!0}))}}):{onPress:$},[$]);return D(()=>{var T;L&&((T=m==null?void 0:m.current[s])==null||T.focus())},[L]),i.jsx(to,{scope:t,value:o,textId:F||"",isSelected:p,children:v?i.jsx("option",{value:o,children:e.children}):i.jsx(ot,{tag:"div",componentName:Ve,ref:X,"aria-labelledby":F,"aria-selected":p,"data-state":p?"active":"inactive","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...!e.unstyled&&{backgrounded:!0,pressTheme:!0,hoverTheme:!0,focusTheme:!0,cursor:"default",outlineWidth:0,size:w},...f,...Z})})},{disableTheme:!0});var oo={};const ce="SelectItemText",ct=B(We,{name:ce,variants:{unstyled:{false:{userSelect:"none",color:"$color",ellipse:!0}}},defaultVariants:{unstyled:oo.TAMAGUI_HEADLESS==="1"}}),ro=ct.styleable(function(e,n){const{__scopeSelect:t,className:o,...a}=e,l=ne(ce,t),s=q(ce,t),d=r.useRef(null),f=ie(n,d),u=jt(ce,t),c=r.useRef();return c.current=i.jsx(ct,{className:o,size:s.size,id:u.textId,...a,ref:f}),r.useEffect(()=>{s.initialValue===u.value&&!l.selectedIndex&&l.setSelectedItem(c.current)},[]),r.useEffect(()=>s.valueSubscribe(m=>{m===u.value&&l.setSelectedItem(c.current)}),[u.value]),s.shouldRenderWebNative?i.jsx(i.Fragment,{children:e.children}):i.jsx(i.Fragment,{children:c.current})}),kt="SelectScrollUpButton",Lt=r.forwardRef((e,n)=>i.jsx(Ft,{componentName:kt,...e,dir:"up",ref:n}));Lt.displayName=kt;const Vt="SelectScrollDownButton",Dt=r.forwardRef((e,n)=>i.jsx(Ft,{componentName:Vt,...e,dir:"down",ref:n}));Dt.displayName=Vt;const Ft=r.memo(r.forwardRef((e,n)=>{var v,w;const{__scopeSelect:t,dir:o,componentName:a,...l}=e,{forceUpdate:s,open:d,fallback:f,setScrollTop:u,setInnerOffset:c,...m}=ne(a,t),h=(v=m.floatingContext)==null?void 0:v.refs.floating,g=r.useRef("idle"),C=m[o==="down"?"canScrollDown":"canScrollUp"],S=r.useRef(),{x:P,y:x,refs:E,strategy:k}=Ct({open:d&&C,strategy:"fixed",elements:{reference:h==null?void 0:h.current},placement:o==="up"?"top":"bottom",middleware:[wt(({rects:I})=>-I.floating.height)],whileElementsMounted:(...I)=>Tn(...I,{animationFrame:!0})}),O=ie(n,E.setFloating);if(!C)return null;const N=I=>{const R=h;R&&(f?R.current&&(R.current.scrollTop-=I,ke.flushSync(()=>{var p;return u(((p=R.current)==null?void 0:p.scrollTop)??0)})):ke.flushSync(()=>c(p=>p-I)))};return i.jsx(pe,{ref:O,componentName:a,"aria-hidden":!0,...l,zIndex:1e3,position:k,left:P||0,top:x||0,width:`calc(${(((w=h==null?void 0:h.current)==null?void 0:w.offsetWidth)??0)-2}px)`,onPointerEnter:()=>{g.current="active";let I=Date.now();function R(){const p=h==null?void 0:h.current;if(p){const M=Date.now(),L=M-I;I=M;const V=L/2,F=o==="up"?p.scrollTop:p.scrollHeight-p.clientHeight-p.scrollTop,X=o==="up"?p.scrollTop-V>0:p.scrollTop+V<p.scrollHeight-p.clientHeight;N(o==="up"?Math.min(V,F):Math.max(-V,-F)),X&&(S.current=requestAnimationFrame(R))}}cancelAnimationFrame(S.current),S.current=requestAnimationFrame(R)},onPointerLeave:()=>{g.current="idle",cancelAnimationFrame(S.current)}})})),_e="SelectTrigger",so=r.forwardRef(function(e,n){var u;const{__scopeSelect:t,disabled:o=!1,unstyled:a=!1,...l}=e,s=ne(_e,t),d=q(_e,t),f=ie(n,(u=s.floatingContext)==null?void 0:u.refs.setReference);return d.shouldRenderWebNative?null:i.jsx(Et,{componentName:_e,unstyled:a,...!a&&{backgrounded:!0,radiused:!0,hoverTheme:!0,pressTheme:!0,focusable:!0,focusStyle:{outlineStyle:"solid",outlineWidth:2,outlineColor:"$borderColorFocus"},borderWidth:1},size:d.size,"aria-expanded":s.open,"aria-autocomplete":"none",dir:s.dir,disabled:o,"data-disabled":o?"":void 0,...l,ref:f,...d.interactions?{...d.interactions.getReferenceProps(),onMouseDown(){var c;(c=s.floatingContext)==null||c.update(),d.setOpen(!s.open)}}:{onPress(){d.setOpen(!s.open)}}})});var ao={};const ut=B(ze,{name:Le,variants:{unstyled:{false:{size:"$2",backgroundColor:"$background",elevate:!0,bordered:!0,userSelect:"none",outlineWidth:0}},size:{"...size":(e,{tokens:n})=>({borderRadius:n.radius[e]??e})}},defaultVariants:{unstyled:ao.TAMAGUI_HEADLESS==="1"}}),io=ut.styleable(function(e,n){var x;const{__scopeSelect:t,children:o,disableScroll:a,...l}=e,s=ne(Le,t),d=q(Le,t),f=Ne(s.sheetBreakpoint);D(()=>{s.update&&s.update()},[f]);const u=vt(n,(x=s.floatingContext)==null?void 0:x.refs.setFloating);if(d.shouldRenderWebNative)return i.jsx(i.Fragment,{children:o});if(f||!Be)return i.jsx(fn,{hostName:`${s.scopeKey}SheetContents`,children:i.jsx(Jn,{__scopeSelect:t,itemContext:d,context:s,children:o})});if(!d.interactions)return null;const{style:c,className:m,...h}=d.interactions.getFloatingProps(),{scrollbarWidth:g,listStyleType:C,overflow:S,...P}=c;return i.jsxs(i.Fragment,{children:[!a&&!e.unstyled&&i.jsx("style",{dangerouslySetInnerHTML:{__html:lo}}),i.jsx(Mn,{context:s.floatingContext,children:i.jsx(St,{children:s.open?i.jsx(ut,{disableClassName:!0,size:d.size,role:"presentation",...l,ref:u,...h,...P,...!e.unstyled&&{overflow:a?void 0:S??"scroll"},children:o},"select-viewport"):null})}),!s.open&&i.jsx("div",{style:{display:"none"},children:e.children})]})}),lo=`
.is_SelectViewport {
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

.is_SelectViewport::-webkit-scrollbar{
  display:none
}
`,De="SelectValue",dt=B(We,{name:De,userSelect:"none"}),co=dt.styleable(function({__scopeSelect:e,children:n,placeholder:t,...o},a){const l=ne(De,e),s=q(De,e),d=ie(a,l.onValueNodeChange),f=n??l.selectedItem,u=l.value==null||l.value===""?t??f:f;return i.jsx(dt,{...!o.unstyled&&{size:s.size,ellipse:!0,pointerEvents:"none"},ref:d,...o,children:Ht(u)})});function Ht(e){return r.Children.map(e,n=>{var t,o,a;if(n){if(((o=(t=n.type)==null?void 0:t.staticConfig)==null?void 0:o.componentName)===ce)return n.props.children;if((a=n.props)!=null&&a.children)return Ht(n.props.children)}return n})}const uo=B($e,{name:"SelectIcon","aria-hidden":!0,children:i.jsx(_n,{children:"▼"})}),Fe="SelectItemIndicator",mo=B($e,{name:ce}),zt=r.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e,a=q(Fe,t),l=jt(Fe,t);return a.shouldRenderWebNative?null:l.isSelected?i.jsx(mo,{"aria-hidden":!0,...o,ref:n}):null});zt.displayName=Fe;const he="SelectGroup",[fo,ho]=Ee(he),po=B(pe,{name:he,width:"100%"}),So=B(We,{tag:"select",backgroundColor:"$background",borderColor:"$borderColor",hoverStyle:{backgroundColor:"$backgroundHover"}}),go=B(ze,{name:"NativeSelect",bordered:!0,userSelect:"none",outlineWidth:0,paddingRight:10,variants:{size:{"...size":(e,n)=>{const{tokens:t}=n,o=un(t.space[e]);return{borderRadius:t.radius[e]??e,minHeight:t.size[e],paddingRight:o+20,paddingLeft:o,paddingVertical:en(e,{shift:-3})}}}},defaultVariants:{size:"$2"}}),Bt=r.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e,a=r.useId(),l=ne(he,t),s=q(he,t),d=s.size??"$true",f=r.useRef(null),u=s.shouldRenderWebNative?i.jsx(go,{asChild:!0,size:d,value:l.value,children:i.jsx(So,{onChange:c=>{s.onChange(c.currentTarget.value)},size:d,ref:f,style:{color:"var(--color)",appearance:"none"},children:e.children})}):i.jsx(po,{role:"group","aria-labelledby":a,...o,ref:n});return i.jsx(fo,{scope:t,id:a||"",children:u})});Bt.displayName=he;const we="SelectLabel",$t=r.forwardRef((e,n)=>{const{__scopeSelect:t,...o}=e,a=q(we,t),l=ho(we,t);return a.shouldRenderWebNative?null:i.jsx(Et,{tag:"div",componentName:we,fontWeight:"800",id:l.id,size:a.size,...o,ref:n})});$t.displayName=we;B(jn,{name:"SelectSeparator"});const xo=e=>{const n=ne("SelectSheetController",e.__scopeSelect),t=_t(n),o=Ne(n.sheetBreakpoint),a=An(t);return i.jsx(Zn,{onOpenChange:l=>{a()&&e.onOpenChange(l)},open:n.open,hidden:o===!1,children:e.children})},bo=e=>i.jsx(i.Fragment,{children:e.children}),yo=je(e=>{const{__scopeSelect:n,native:t,children:o,open:a,defaultOpen:l,onOpenChange:s,value:d,defaultValue:f,onValueChange:u,disablePreventBodyScroll:c,size:m="$true",onActiveChange:h,dir:g}=e,C=r.useId(),S=n?Object.keys(n)[0]??C:C,{when:P,AdaptProvider:x}=nn({Contents:r.useCallback(()=>i.jsx(hn,{name:`${S}SheetContents`}),[S])}),E=P,k=Ne(E)||!Be?bo:eo,O=r.useReducer(()=>({}),{})[1],[N,v]=r.useState(null),[w,I]=Ie({prop:a,defaultProp:l||!1,onChange:s}),[R,p]=Ie({prop:d,defaultProp:f||"",onChange:u,transition:!0});r.useEffect(()=>{w&&V(R)},[w]),r.useEffect(()=>{V(R)},[R]);const[M,L]=r.useState(0),[V,F]=mt(),[X,$]=mt(),Z=r.useRef(null),T=r.useRef(null),H=r.useRef([]),[W,se]=r.useState(0),[z,_]=r.useState(null);D(()=>{Z.current=W,T.current=M});const K=t===!0||t==="web"||Array.isArray(t)&&t.includes("web");return i.jsx(x,{children:i.jsx(Ye,{scope:n,initialValue:r.useMemo(()=>R,[]),size:m,activeIndexSubscribe:$,valueSubscribe:F,setOpen:I,onChange:r.useCallback(j=>{p(j),V(j)},[]),onActiveChange:Re((...j)=>{h==null||h(...j)}),setSelectedIndex:se,setValueAtIndex:r.useCallback((j,J)=>{H.current[j]=J},[]),shouldRenderWebNative:K,children:i.jsx(Ue,{scope:n,disablePreventBodyScroll:c,dir:g,blockSelection:!1,fallback:!1,selectedItem:N,setSelectedItem:v,forceUpdate:O,valueNode:z,onValueNodeChange:_,scopeKey:S,sheetBreakpoint:E,activeIndex:M,selectedIndex:W,setActiveIndex:r.useCallback(j=>{L(J=>J!==j?(typeof j=="number"&&X(j),j):J)},[]),value:R,open:w,native:t,children:i.jsx(xo,{onOpenChange:I,__scopeSelect:n,children:K?o:i.jsx(k,{activeIndexRef:T,listContentRef:H,selectedIndexRef:Z,...e,open:w,value:R,children:o})})})})})},{Adapt:tn,Content:Qn,Group:Bt,Icon:uo,Item:no,ItemIndicator:zt,ItemText:ro,Label:$t,ScrollDownButton:Dt,ScrollUpButton:Lt,Trigger:so,Value:co,Viewport:io,Sheet:Xn.Controlled});function mt(){const e=r.useRef();e.current||(e.current=new Set);const n=o=>{e.current.forEach(a=>a(o))},t=r.useCallback(o=>(e.current.add(o),()=>{e.current.delete(o)}),[]);return[n,t]}yo.displayName=Se;const vo=e=>e==="currentcolor"||e==="currentColor"||e==="inherit"||e.indexOf("var(")===0;function Co(e,n=1){if(e==null)return;if(typeof e=="string"&&vo(e))return e;const t=Pt(e);if(t!=null){const o=t>>16&255,a=t>>8&255,l=t&255,d=((t>>24&255)/255*n).toFixed(2);return`rgba(${o},${a},${l},${d})`}}function wo({colors:e,locations:n,startPoint:t,endPoint:o,...a}){const[{height:l,width:s},d]=r.useState({height:1,width:1}),f=r.useMemo(()=>Io(e,n,t,o,s,l),[e,n,t,o,s,l]);return r.createElement(It,{...a,style:[a.style,{backgroundImage:f}],onLayout:u=>{const{width:c,height:m}=u.nativeEvent.layout;d(h=>c!==h.width||m!==h.height?{height:m,width:c}:h),a.onLayout&&a.onLayout(u)}})}function Io(e,n,t,o,a=1,l=1){const s=Po(e,n);return`linear-gradient(${Ro(a,l,t,o)}deg, ${s.join(", ")})`}function Ro(e,n,t,o){const a=()=>{let u=[0,0];Array.isArray(t)&&(u=[t[0]!=null?t[0]:0,t[1]!=null?t[1]:0]);let c=[0,1];return Array.isArray(o)&&(c=[o[0]!=null?o[0]:0,o[1]!=null?o[1]:1]),[u,c]},[l,s]=a();l[0]*=e,s[0]*=e,l[1]*=n,s[1]*=n;const d=s[1]-l[1],f=s[0]-l[0];return 90+Math.atan2(d,f)*180/Math.PI}function Po(e,n){return e.map((t,o)=>{const a=Co(t);if(n&&n[o]){const s=Math.max(0,Math.min(1,n[o]))*100;return`${a} ${s}%`}return a})}let Eo=class extends r.Component{render(){const{colors:n,locations:t,start:o,end:a,...l}=this.props;let s=t;return t&&n.length!==t.length&&(console.warn("LinearGradient colors and locations props should be arrays of the same length"),s=t.slice(0,n.length)),r.createElement(wo,{...l,colors:Rt.select({web:n,default:n.map(Pt)}),locations:s,startPoint:ft(o),endPoint:ft(a)})}};function ft(e){if(e){if(Array.isArray(e)&&e.length!==2){console.warn("start and end props for LinearGradient must be of the format [x,y] or {x, y}");return}return Array.isArray(e)?e:[e.x,e.y]}}const $o=pe.styleable((e,n)=>{var m;const t=on(e),{start:o,end:a,colors:l,locations:s,children:d,...f}=t,u=dn();let c=((m=t.colors)==null?void 0:m.map(h=>{var g;return((g=u[h])==null?void 0:g.get("web"))??h}))||[];return i.jsxs(To,{ref:n,...f,children:[i.jsx(Eo,{start:o,end:a,colors:c,locations:s,style:No}),d]})}),No={position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0},To=B(pe,{name:"LinearGradient",overflow:"hidden",position:"relative"});export{$o as L,yo as S};

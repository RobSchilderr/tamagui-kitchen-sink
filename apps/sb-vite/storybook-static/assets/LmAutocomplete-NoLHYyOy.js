import{s as W,j as e,Y as H,S as U,X as $}from"./Stacks-0gbGCfo_.js";import"./index-U7_1MBcJ.js";import{T as Z,G as Y,B,H as _}from"./index-LvVOA0P4.js";import{r as i}from"./index-4g5l5LRQ.js";import"./GorhomPortal-iqDikvYy.js";import{L as N,T as P,I as R,P as ee,S as k,Y as X,a as te,X as b,b as se}from"./usePopoverState-tTqBLx82.js";import{E as ne,g as re,h as G,i as oe,j as ae,C as ie}from"./LmGrid-eqtElkhI.js";import{T as ce}from"./Text-O_a08Nna.js";import{P as ue}from"./Headings-cv8zjVaZ.js";import{P as le}from"./EventEmitter-8bYFdwfg.js";import{L as de,a as he}from"./ListItem-ZhdiTpgl.js";const me=W(Z,{variants:{fullWidth:{true:{width:"100%"}},labelInline:{true:{flexDirection:"row",space:"$3",alignItems:"center"}}}});function z({label:d,children:m,helperText:c,id:u,size:x,labelProps:n,required:p,error:f,helperTextProps:j,...l}){return e.jsxs(me,{...l,space:l.labelInline?"$3":l.space,children:[d&&e.jsxs(N,{htmlFor:u,size:x||"$3",...n,color:f?"$red10":n==null?void 0:n.color,width:l.labelInline?150:n==null?void 0:n.width,justifyContent:l.labelInline?"flex-end":n==null?void 0:n.justifyContent,children:[d," ",p&&" *"]}),e.jsxs(H,{children:[m,c&&e.jsx(ue,{paddingLeft:"$2",marginTop:"$2",size:x,...j,color:f?"$red10":void 0,children:c})]})]})}const Re=i.forwardRef(function({required:m,error:c,helperText:u,helperTextProps:x,label:n,labelProps:p,labelInline:f,multiline:j,containerProps:l,isPassword:S,passwordIconProps:T,fullWidth:r,...t},g){const h=i.useId(),[L,y]=i.useState(!1),I=t.id||h,C={...t};c&&(C.theme="red",C.borderColor=c?"$red8":void 0),r&&(C.minWidth="100%");let A=!!(t.secureTextEntry||S);return e.jsx(z,{id:I,error:c,required:m,labelProps:p,label:n,fullWidth:r,size:t.size,labelInline:f,helperText:u,helperTextProps:x,...l,children:j?e.jsx(P,{...C,placeholderTextColor:t.placeholderTextColor,ref:g}):A?e.jsxs(U,{position:"relative",width:r?"100%":C==null?void 0:C.width,children:[e.jsx(R,{...C,ref:g,secureTextEntry:!L,autoCapitalize:"none",placeholderTextColor:t.placeholderTextColor}),e.jsx(ee,{style:{position:"absolute",top:"50%",transform:[{translateY:-.5*20}],height:20,...(t==null?void 0:t.direction)==="rtl"?{left:15}:{right:15}},onPress:()=>{y(v=>!v)},children:L?e.jsx(ne,{...T}):e.jsx(re,{...T})})]}):e.jsx(R,{...C,autoCapitalize:"none",ref:g})})}),xe=W(k.Track,{variants:{colorCustom:{":string":d=>({backgroundColor:d})}}}),fe=W(k.TrackActive,{variants:{colorCustom:{":string":d=>({backgroundColor:d})}}});function ke({thumbProps:d,color:m,defaultValue:c=[0],label:u,labelProps:x,error:n,required:p,helperText:f,helperTextProps:j,labelInline:l,colorActiveOnly:S,showValue:T,containerProps:r,...t}){const g=i.useId(),[h,L]=i.useState(c),y=m?`${m}Dark`:void 0;return e.jsx(z,{id:g,label:u,error:n,required:p,labelProps:x,size:t.size,labelInline:l,helperText:f,helperTextProps:j,alignItems:l?"center":void 0,...r,children:e.jsxs($,{space:!0,alignItems:"center",children:[e.jsxs(k,{size:"$2",width:150,defaultValue:h,max:5,step:1,...t,onValueChange:I=>{L(I),typeof t.onValueChange=="function"&&t.onValueChange(I)},children:[e.jsx(xe,{colorCustom:S?void 0:y,children:e.jsx(fe,{colorCustom:y})}),e.jsx(k.Thumb,{bordered:!1,circular:!0,pressTheme:!1,hoverTheme:!1,focusTheme:!1,size:"$1",index:0,backgroundColor:m,...d})]}),T&&e.jsx(ce,{children:h[0]})]})})}function Ae({options:d,labelInline:m,labelProps:c,helperText:u,helperTextProps:x,required:n,label:p,value:f,onChange:j,error:l,theme:S,allowNewHook:T,multiple:r=!1,popoverProps:t,containerProps:g,size:h,...L}){const y=i.useId(),[I,C]=i.useState(d),{width:A}=_(),v=te(),[F,O]=i.useState(0),V=i.useRef(null),D=i.useRef(null),[a,J]=i.useState(f??(r?[]:null)),E=s=>Array.isArray(a)?!!(a!=null&&a.some(o=>o.value===s.value)):(a==null?void 0:a.value)===s.value,K=s=>{let o=null;r?o=E(s)?(a==null?void 0:a.filter(Q=>Q.value!==s.value))??[]:[...a??[],s]:o=E(s)?null:s,J(o),typeof j=="function"&&j(o)};i.useEffect(()=>{var o;const s=(o=V.current)==null?void 0:o.offsetWidth;s&&O(s)},[A]),i.useEffect(()=>{var s,o;v.open&&((o=(s=D.current)==null?void 0:s.focus)==null||o.call(s))},[v.open]);const M=Array.isArray(a)?a.map(s=>s==null?void 0:s.label).join(", "):(a==null?void 0:a.label)||"";return e.jsx(z,{id:y,error:l,required:n,labelProps:c,label:p,labelInline:m,helperText:u,helperTextProps:x,size:h,...g,children:e.jsxs(b,{ref:V,children:[e.jsx(b.Item,{children:e.jsx(R,{flex:1,value:M,size:h,theme:S,textOverflow:"ellipsis",onFocus:s=>{var o,w;v.onOpenChange(!v.open),(w=(o=s.target).blur)==null||w.call(o)}})}),e.jsx(b.Item,{children:e.jsx(se,{isBouncy:!0,...t,...v,offset:{mainAxis:15,crossAxis:-30},contentProps:{minWidth:F||void 0,maxWidth:"100%",...t==null?void 0:t.contentProps},trigger:e.jsx(B,{size:h,icon:e.jsx(ie,{}),borderTopLeftRadius:0,borderBottomLeftRadius:0}),children:e.jsx(je,{ref:D,theme:S,options:I,isSelected:E,onChangeSelection:K,onAddNew:s=>{if(s){const o=typeof T=="function"?T(s):{value:s,label:s};C(w=>[o,...w])}},...L})})})]})})}const je=i.forwardRef(function({disableSearch:m,theme:c,placeholderSearch:u,options:x,allowNew:n,onAddNew:p,onChangeSelection:f,isSelected:j},l){const[S,T]=i.useState(),r=i.useDeferredValue(S),t=r!=null&&r.length?x.filter(h=>h.label.toLowerCase().includes(r)):x,g=!m||n;return e.jsx(e.Fragment,{children:le.OS==="web"?e.jsxs(e.Fragment,{children:[g&&e.jsx($,{padding:"$4",width:"100%",children:e.jsx(R,{theme:c,placeholder:u,width:"100%",ref:l,onChangeText:h=>{T(h.toLowerCase())}})}),e.jsxs(Y,{keyboardShouldPersistTaps:"always",maxHeight:300,width:"100%",marginTop:g?void 0:"$4",marginBottom:"$4",children:[e.jsx(q,{options:t,onChangeSelection:f,isSelected:j}),n&&!(t!=null&&t.length)&&r&&e.jsx($,{justifyContent:"flex-start",marginBottom:"$3",marginLeft:"$3",children:e.jsx(B,{onPress:()=>p(r),chromeless:!0,icon:e.jsx(G,{}),children:r})})]})]}):e.jsxs(H,{children:[g&&e.jsx($,{padding:"$4",width:"100%",children:e.jsx(R,{theme:c,ref:l,placeholder:u,width:"100%",onChangeText:h=>{T(h.toLowerCase())}})}),e.jsx(Y,{children:e.jsx(q,{options:t,onChangeSelection:f,isSelected:j})}),n&&!(t!=null&&t.length)&&r&&e.jsx($,{justifyContent:"flex-start",marginBottom:"$3",marginLeft:"$3",children:e.jsx(B,{onPress:()=>p(r),chromeless:!0,icon:e.jsx(G,{}),children:r})})]})})});function q({options:d,isSelected:m,onChangeSelection:c}){return e.jsx(X,{borderRadius:0,children:d.map((u,x)=>e.jsx(X.Item,{children:e.jsx(de,{hoverTheme:!0,pressTheme:!0,focusTheme:!0,cursor:"pointer",icon:m(u)?e.jsx(oe,{}):e.jsx(ae,{}),onPress:()=>c(u),children:e.jsx(he,{cursor:"pointer",children:u.label})})},u.value))})}export{Re as L,z as a,ke as b,Ae as c};

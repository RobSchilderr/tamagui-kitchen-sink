import{j as e,S as w,X as h,i as E}from"./Stacks-cf55noxu.js";import{b as H}from"./index.esm-qGf7LkUX.js";import{u as F,L as V}from"./DatepickerProvider-XA7obZFU.js";import{N as X,d as Y,P as k,Y as z}from"./index.esm-HDFLGYcx.js";import{r as S}from"./index-4g5l5LRQ.js";import{B as m}from"./index-_wg5PwQV.js";import"./index-TmN4oE2O.js";import{b as G,a as W,X as I,I as J}from"./usePopoverState-znF3ooTh.js";import{k as K,l as Q,m as U,n as Z,A as _,o as ee,p as te}from"./LmGrid--faLWKbq.js";import{a as v}from"./dateHelper-pqTkKOmM.js";import{a as re}from"./LmAutocomplete-kGbePZjJ.js";import{S as M,e as se,c as oe}from"./Headings-zc2v6h-R.js";import{f as ae}from"./index-Cm4IpdGE.js";const ne=(u,r,a,s)=>({selectedFirstOrLastColor:l,normalColor:n,selectedColor:t,rangeHoverColor:o,disabledColor:c})=>r?l:u?t:a?o:s?c:n;function ie({dayLabel:u,date:r}){const a=S.useRef(null),s=F(),{isSelected:l,isSelectedStartOrEnd:n,isWithinHoverRange:t,disabledDate:o,onClick:c,onMouseEnter:f}=X({date:r,dayRef:a,...s});if(!u)return e.jsx(w,{display:"flex",flex:1});const i=ne(l,n,t,o);return e.jsx(M,{ref:a,onPress:c,onHoverIn:f,disabled:o,width:`${100/7}%`,textAlign:"center",paddingVertical:"$2",cursor:"pointer",backgroundColor:i({selectedFirstOrLastColor:"$blue7",normalColor:"$background",selectedColor:"$blue5",rangeHoverColor:"$blue6",disabledColor:"#FFFFFF"}),children:u})}function le({onPrevious:u,onNext:r,monthsCount:a,isFirst:s,isLast:l,...n}){const{days:t,weekdayLabels:o,monthLabel:c}=Y({...n,monthLabelFormat(d){return new Intl.DateTimeFormat(void 0,{month:"long"}).format(d)}}),{goToPreviousYear:f,goToPreviousMonths:i,goToPreviousMonthsByOneMonth:p,goToNextMonthsByOneMonth:D,goToNextMonths:j,goToNextYear:g}=F(),{year:C}=n;return e.jsxs(w,{width:250,children:[e.jsxs(h,{space:"$2",justifyContent:"center",alignItems:"center",children:[e.jsx(m,{size:"$2",chromeless:!0,focusable:!1,circular:!0,onPress:()=>f(10),icon:e.jsx(K,{})}),e.jsx(m,{size:"$2",chromeless:!0,circular:!0,focusable:!1,onPress:()=>f(1),icon:e.jsx(Q,{})}),e.jsx(se,{children:C}),e.jsx(m,{size:"$2",chromeless:!0,focusable:!1,onPress:()=>g(1),icon:e.jsx(U,{}),circular:!0}),e.jsx(m,{size:"$2",chromeless:!0,circular:!0,focusable:!1,onPress:()=>g(10),icon:e.jsx(Z,{})})]}),e.jsxs(h,{justifyContent:"space-between",alignItems:"center",height:40,children:[e.jsx(m,{focusable:!1,opacity:s?void 0:0,disabled:!s,onPress:a>1?i:p,icon:e.jsx(_,{}),circular:!0,chromeless:!0}),e.jsx(oe,{children:c}),e.jsx(m,{focusable:!1,opacity:l?void 0:0,disabled:!l,onPress:a>1?j:D,icon:e.jsx(ee,{}),circular:!0,chromeless:!0})]}),e.jsx(h,{flex:7,width:250,children:o.map(d=>e.jsx(M,{width:`${100/7}%`,textAlign:"center",paddingVertical:"$2",children:d},d))}),e.jsx(h,{display:"flex",flexWrap:"wrap",width:250,children:t.map((d,y)=>typeof d=="object"?e.jsx(ie,{dayLabel:d.dayLabel,date:d.date},d.date.toString()):e.jsx(w,{width:`${100/7}%`},y))}),e.jsx(h,{display:"flex"})]})}function ce({activeMonths:u,monthsCount:r,firstDayOfWeek:a,labelFunctions:s,buttonProps:l,size:n,...t}){return e.jsx(G,{isBouncy:!0,...t,contentProps:{padding:"$4",elevation:"$5",...t==null?void 0:t.contentProps},trigger:e.jsx(m,{icon:e.jsx(te,{}),borderTopLeftRadius:0,borderBottomLeftRadius:0,size:n,...l}),children:e.jsx(h,{space:!0,alignItems:"flex-start",children:u.map((o,c)=>e.jsx(le,{year:o.year,month:o.month,monthsCount:r,firstDayOfWeek:a,isFirst:r===0||c===0,isLast:r===0||c===r-1,...s},`${o.year}-${o.month}`))})})}function ue({numberOfMonths:u,isRangePicker:r,onChange:a,labelFunctions:s,startDate:l=null,endDate:n=null,required:t,error:o,helperText:c,helperTextProps:f,label:i,labelProps:p,labelInline:D,fullWidth:j,inputProps:g,buttonProps:C,popoverProps:d,containerProps:y,size:$}){const P=S.useId(),O=E(),L=W(!1),[x,R]=S.useState({startDate:l,endDate:n,focusedInput:k}),T=r?O.xs?1:u??2:1,{activeMonths:B,firstDayOfWeek:N,...q}=z({startDate:x.startDate,endDate:x.endDate,focusedInput:x.focusedInput,onDatesChange:b=>{b.focusedInput?R(b):R({...b,focusedInput:k}),typeof a=="function"&&a(b),r||L.onOpenChange(!1)},numberOfMonths:T,...!r&&{minBookingDays:1,exactMinBookingDays:!0}}),A=r?`${v({date:x.startDate})}${x.endDate?" - "+v({date:x.endDate}):""}`:v({date:x.startDate});return e.jsx(V,{...q,children:e.jsx(re,{id:P,error:o,required:t,labelProps:p,label:i,labelInline:D,helperText:c,helperTextProps:f,fullWidth:j,size:$,...y,children:e.jsx(h,{space:!0,...j?{flexGrow:1}:{width:"100%"},children:e.jsxs(I,{flexGrow:j?1:void 0,alignItems:"center",flexDirection:"row",children:[e.jsx(I.Item,{children:e.jsx(J,{width:"100%",minWidth:r?"$16":void 0,value:A,onPressIn:()=>L.onOpenChange(!0),size:$,...g})}),e.jsx(I.Item,{children:e.jsx(ce,{activeMonths:B,monthsCount:T,firstDayOfWeek:N,labelFunctions:s,buttonProps:C,size:$,...L,...d})})]})})})})}function Le({name:u,defaultValue:r,control:a,rules:s={},required:l,...n}){var f;l&&(s.required=s.required??"This field is required");const t=H({name:u,control:a,rules:s,defaultValue:r});let o=!!t.fieldState.error;const c=i=>i?typeof i=="string"?new Date(i):i:null;return e.jsx(ue,{...n,startDate:t.field.value?c(t.field.value):null,isRangePicker:!1,required:!!(s!=null&&s.required),onChange:i=>{const p=i.startDate?ae(i.startDate,{representation:"date"}):"";t.field.onChange(p)},helperText:o?(f=t.fieldState.error)==null?void 0:f.message:n.helperText,error:o})}export{ue as L,Le as a};

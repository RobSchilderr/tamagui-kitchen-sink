import{s as W,j as e,Y as J,S as K,X as b}from"./Stacks-cf55noxu.js";import{T as M,G as Q,B as Y,H as U}from"./index-_wg5PwQV.js";import{r as i}from"./index-4g5l5LRQ.js";import"./index-TmN4oE2O.js";import{L as Z,T as _,I as R,P as N,S as $,Y as D,a as P,X as E,b as ee}from"./usePopoverState-znF3ooTh.js";import{E as te,g as se,h as ne,i as re,j as oe,C as ae}from"./LmGrid--faLWKbq.js";import{T as ie}from"./Text-GPmJrOtX.js";import{P as ce}from"./Headings-zc2v6h-R.js";import{L as ue,a as le}from"./ListItem-IOiP-Ieg.js";const de=W(M,{variants:{fullWidth:{true:{width:"100%"}},labelInline:{true:{flexDirection:"row",space:"$3",alignItems:"center"}}}});function z({label:c,children:h,helperText:u,id:l,size:m,labelProps:n,required:p,error:j,helperTextProps:g,...d}){return e.jsxs(de,{...d,space:d.labelInline?"$3":d.space,children:[c&&e.jsxs(Z,{htmlFor:l,size:m||"$3",...n,color:j?"$red10":n==null?void 0:n.color,width:d.labelInline?150:n==null?void 0:n.width,justifyContent:d.labelInline?"flex-end":n==null?void 0:n.justifyContent,children:[c," ",p&&" *"]}),e.jsxs(J,{children:[h,u&&e.jsx(ce,{paddingLeft:"$2",marginTop:"$2",size:m,...g,color:j?"$red10":void 0,children:u})]})]})}const ye=i.forwardRef(function({required:h,error:u,helperText:l,helperTextProps:m,label:n,labelProps:p,labelInline:j,multiline:g,containerProps:d,isPassword:T,passwordIconProps:S,fullWidth:o,...s},C){const f=i.useId(),[L,I]=i.useState(!1),y=s.id||f,x={...s};u&&(x.theme="red",x.borderColor=u?"$red8":void 0),o&&(x.minWidth="100%");let k=!!(s.secureTextEntry||T);return e.jsx(z,{id:y,error:u,required:h,labelProps:p,label:n,fullWidth:o,size:s.size,labelInline:j,helperText:l,helperTextProps:m,...d,children:g?e.jsx(_,{...x,placeholderTextColor:s.placeholderTextColor,ref:C}):k?e.jsxs(K,{position:"relative",width:o?"100%":x==null?void 0:x.width,children:[e.jsx(R,{...x,ref:C,secureTextEntry:!L,autoCapitalize:"none",placeholderTextColor:s.placeholderTextColor}),e.jsx(N,{style:{position:"absolute",top:"50%",transform:[{translateY:-.5*20}],height:20,...(s==null?void 0:s.direction)==="rtl"?{left:15}:{right:15}},onPress:()=>{I(v=>!v)},children:L?e.jsx(te,{...S}):e.jsx(se,{...S})})]}):e.jsx(R,{...x,autoCapitalize:"none",ref:C})})}),he=W($.Track,{variants:{colorCustom:{":string":c=>({backgroundColor:c})}}}),me=W($.TrackActive,{variants:{colorCustom:{":string":c=>({backgroundColor:c})}}});function we({thumbProps:c,color:h,defaultValue:u=[0],label:l,labelProps:m,error:n,required:p,helperText:j,helperTextProps:g,labelInline:d,colorActiveOnly:T,showValue:S,containerProps:o,...s}){const C=i.useId(),[f,L]=i.useState(u),I=h?`${h}Dark`:void 0;return e.jsx(z,{id:C,label:l,error:n,required:p,labelProps:m,size:s.size,labelInline:d,helperText:j,helperTextProps:g,alignItems:d?"center":void 0,...o,children:e.jsxs(b,{space:!0,alignItems:"center",children:[e.jsxs($,{size:"$2",width:150,defaultValue:f,max:5,step:1,...s,onValueChange:y=>{L(y),typeof s.onValueChange=="function"&&s.onValueChange(y)},children:[e.jsx(he,{colorCustom:T?void 0:I,children:e.jsx(me,{colorCustom:I})}),e.jsx($.Thumb,{bordered:!1,circular:!0,pressTheme:!1,hoverTheme:!1,focusTheme:!1,size:"$1",index:0,backgroundColor:h,...c})]}),S&&e.jsx(ie,{children:f[0]})]})})}function Re({options:c,labelInline:h,labelProps:u,helperText:l,helperTextProps:m,required:n,label:p,value:j,onChange:g,error:d,theme:T,allowNewHook:S,multiple:o=!1,popoverProps:s,containerProps:C,size:f,...L}){const I=i.useId(),[y,x]=i.useState(c),{width:k}=U(),v=P(),[B,X]=i.useState(0),F=i.useRef(null),V=i.useRef(null),[a,G]=i.useState(j??(o?[]:null)),A=t=>Array.isArray(a)?!!(a!=null&&a.some(r=>r.value===t.value)):(a==null?void 0:a.value)===t.value,q=t=>{let r=null;o?r=A(t)?(a==null?void 0:a.filter(H=>H.value!==t.value))??[]:[...a??[],t]:r=A(t)?null:t,G(r),typeof g=="function"&&g(r)};i.useEffect(()=>{var r;const t=(r=F.current)==null?void 0:r.offsetWidth;t&&X(t)},[k]),i.useEffect(()=>{var t,r;v.open&&((r=(t=V.current)==null?void 0:t.focus)==null||r.call(t))},[v.open]);const O=Array.isArray(a)?a.map(t=>t==null?void 0:t.label).join(", "):(a==null?void 0:a.label)||"";return e.jsx(z,{id:I,error:d,required:n,labelProps:u,label:p,labelInline:h,helperText:l,helperTextProps:m,size:f,...C,children:e.jsxs(E,{ref:F,children:[e.jsx(E.Item,{children:e.jsx(R,{flex:1,value:O,size:f,theme:T,textOverflow:"ellipsis",onFocus:t=>{var r,w;v.onOpenChange(!v.open),(w=(r=t.target).blur)==null||w.call(r)}})}),e.jsx(E.Item,{children:e.jsx(ee,{isBouncy:!0,...s,...v,offset:{mainAxis:15,crossAxis:-30},contentProps:{minWidth:B||void 0,maxWidth:"100%",...s==null?void 0:s.contentProps},trigger:e.jsx(Y,{size:f,icon:e.jsx(ae,{}),borderTopLeftRadius:0,borderBottomLeftRadius:0}),children:e.jsx(fe,{ref:V,theme:T,options:y,isSelected:A,onChangeSelection:q,onAddNew:t=>{if(t){const r=typeof S=="function"?S(t):{value:t,label:t};x(w=>[r,...w])}},...L})})})]})})}const fe=i.forwardRef(function({disableSearch:h,theme:u,placeholderSearch:l,options:m,allowNew:n,onAddNew:p,onChangeSelection:j,isSelected:g},d){const[T,S]=i.useState(),o=i.useDeferredValue(T),s=o!=null&&o.length?m.filter(f=>f.label.toLowerCase().includes(o)):m,C=!h||n;return e.jsx(e.Fragment,{children:e.jsxs(e.Fragment,{children:[C&&e.jsx(b,{padding:"$4",width:"100%",children:e.jsx(R,{theme:u,placeholder:l,width:"100%",ref:d,onChangeText:f=>{S(f.toLowerCase())}})}),e.jsxs(Q,{keyboardShouldPersistTaps:"always",maxHeight:300,width:"100%",marginTop:C?void 0:"$4",marginBottom:"$4",children:[e.jsx(xe,{options:s,onChangeSelection:j,isSelected:g}),n&&!(s!=null&&s.length)&&o&&e.jsx(b,{justifyContent:"flex-start",marginBottom:"$3",marginLeft:"$3",children:e.jsx(Y,{onPress:()=>p(o),chromeless:!0,icon:e.jsx(ne,{}),children:o})})]})]})})});function xe({options:c,isSelected:h,onChangeSelection:u}){return e.jsx(D,{borderRadius:0,children:c.map((l,m)=>e.jsx(D.Item,{children:e.jsx(ue,{hoverTheme:!0,pressTheme:!0,focusTheme:!0,cursor:"pointer",icon:h(l)?e.jsx(re,{}):e.jsx(oe,{}),onPress:()=>u(l),children:e.jsx(le,{cursor:"pointer",children:l.label})})},l.value))})}export{ye as L,z as a,we as b,Re as c};

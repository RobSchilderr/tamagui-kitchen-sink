import{P as wr,S as Vn,a as Rr,R as cn,b as Er,u as Cr,c as Pr}from"./index-TmN4oE2O.js";import{P as Tr,I as Sr,T as Ir,u as Ar,a as Or,J as kr,m as Mr,R as Lr,K as Fr,w as Dr,L as Nr,S as _r,M as Vr,F as jr,N as Wr}from"./index-_wg5PwQV.js";import{j as H,c as jn,l as Br,m as Bt,Y as et,e as tt,V as Wn,s as Ht,S as Bn,g as Hr,d as We,n as Kr,i as zr,o as $r}from"./Stacks-cf55noxu.js";import{r as m,a as Hn}from"./index-4g5l5LRQ.js";import{r as Ke}from"./extends-nGe_wfaW.js";function Yr({children:e,type:t,...n}){return t==="presence"?n.keepChildrenMounted?H.jsx(Tr,{initial:n.initial?void 0:!1,onExitComplete:n.onExitComplete,enterVariant:n.enterVariant,exitVariant:n.exitVariant,enterExitVariant:n.enterExitVariant,presenceAffectsLayout:n.presenceAffectsLayout||!0,isPresent:n.present,children:e}):H.jsx(Sr,{...n,children:n.present?e:null}):H.jsx(H.Fragment,{children:e})}const Te=Math.min,le=Math.max,mt=Math.round,je=Math.floor,Se=e=>({x:e,y:e}),qr={left:"right",right:"left",bottom:"top",top:"bottom"},Ur={start:"end",end:"start"};function Dt(e,t,n){return le(e,Te(t,n))}function Ye(e,t){return typeof e=="function"?e(t):e}function Ie(e){return e.split("-")[0]}function qe(e){return e.split("-")[1]}function Kn(e){return e==="x"?"y":"x"}function Kt(e){return e==="y"?"height":"width"}function nt(e){return["top","bottom"].includes(Ie(e))?"y":"x"}function zt(e){return Kn(nt(e))}function Xr(e,t,n){n===void 0&&(n=!1);const r=qe(e),o=zt(e),i=Kt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=gt(s)),[s,gt(s)]}function Gr(e){const t=gt(e);return[Nt(e),t,Nt(t)]}function Nt(e){return e.replace(/start|end/g,t=>Ur[t])}function Zr(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Jr(e,t,n,r){const o=qe(e);let i=Zr(Ie(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Nt)))),i}function gt(e){return e.replace(/left|right|bottom|top/g,t=>qr[t])}function Qr(e){return{top:0,right:0,bottom:0,left:0,...e}}function zn(e){return typeof e!="number"?Qr(e):{top:e,right:e,bottom:e,left:e}}function ht(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function ln(e,t,n){let{reference:r,floating:o}=e;const i=nt(t),s=zt(t),c=Kt(s),l=Ie(t),u=i==="y",p=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[c]/2-o[c]/2;let a;switch(l){case"top":a={x:p,y:r.y-o.height};break;case"bottom":a={x:p,y:r.y+r.height};break;case"right":a={x:r.x+r.width,y:f};break;case"left":a={x:r.x-o.width,y:f};break;default:a={x:r.x,y:r.y}}switch(qe(t)){case"start":a[s]-=d*(n&&u?-1:1);break;case"end":a[s]+=d*(n&&u?-1:1);break}return a}const eo=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:f}=ln(u,r,l),d=r,a={},g=0;for(let h=0;h<c.length;h++){const{name:w,fn:y}=c[h],{x:v,y:T,data:E,reset:R}=await y({x:p,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:a,rects:u,platform:s,elements:{reference:e,floating:t}});p=v??p,f=T??f,a={...a,[w]:{...a[w],...E}},R&&g<=50&&(g++,typeof R=="object"&&(R.placement&&(d=R.placement),R.rects&&(u=R.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):R.rects),{x:p,y:f}=ln(u,d,l)),h=-1)}return{x:p,y:f,placement:d,strategy:o,middlewareData:a}};async function Be(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:d=!1,padding:a=0}=Ye(t,e),g=zn(a),w=c[d?f==="floating"?"reference":"floating":f],y=ht(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:p,strategy:l})),v=f==="floating"?{...s.floating,x:r,y:o}:s.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),E=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},R=ht(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:v,offsetParent:T,strategy:l}):v);return{top:(y.top-R.top+g.top)/E.y,bottom:(R.bottom-y.bottom+g.bottom)/E.y,left:(y.left-R.left+g.left)/E.x,right:(R.right-y.right+g.right)/E.x}}const to=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:l}=t,{element:u,padding:p=0}=Ye(e,t)||{};if(u==null)return{};const f=zn(p),d={x:n,y:r},a=zt(o),g=Kt(a),h=await s.getDimensions(u),w=a==="y",y=w?"top":"left",v=w?"bottom":"right",T=w?"clientHeight":"clientWidth",E=i.reference[g]+i.reference[a]-d[a]-i.floating[g],R=d[a]-i.reference[a],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let M=C?C[T]:0;(!M||!await(s.isElement==null?void 0:s.isElement(C)))&&(M=c.floating[T]||i.floating[g]);const F=E/2-R/2,L=M/2-h[g]/2-1,O=Te(f[y],L),V=Te(f[v],L),k=O,S=M-h[g]-V,x=M/2-h[g]/2+F,b=Dt(k,x,S),A=!l.arrow&&qe(o)!=null&&x!==b&&i.reference[g]/2-(x<k?O:V)-h[g]/2<0,P=A?x<k?x-k:x-S:0;return{[a]:d[a]+P,data:{[a]:b,centerOffset:x-b-P,...A&&{alignmentOffset:P}},reset:A}}}),no=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...w}=Ye(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ie(o),v=Ie(c)===c,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(v||!h?[gt(c)]:Gr(c));!d&&g!=="none"&&E.push(...Jr(c,h,g,T));const R=[c,...E],C=await Be(t,w),M=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&M.push(C[y]),f){const k=Xr(o,s,T);M.push(C[k[0]],C[k[1]])}if(F=[...F,{placement:o,overflows:M}],!M.every(k=>k<=0)){var L,O;const k=(((L=i.flip)==null?void 0:L.index)||0)+1,S=R[k];if(S)return{data:{index:k,overflows:F},reset:{placement:S}};let x=(O=F.filter(b=>b.overflows[0]<=0).sort((b,A)=>b.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!x)switch(a){case"bestFit":{var V;const b=(V=F.map(A=>[A.placement,A.overflows.filter(P=>P>0).reduce((P,I)=>P+I,0)]).sort((A,P)=>A[1]-P[1])[0])==null?void 0:V[0];b&&(x=b);break}case"initialPlacement":x=c;break}if(o!==x)return{reset:{placement:x}}}return{}}}};async function ro(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ie(n),c=qe(n),l=nt(n)==="y",u=["left","top"].includes(s)?-1:1,p=i&&l?-1:1,f=Ye(t,e);let{mainAxis:d,crossAxis:a,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof g=="number"&&(a=c==="end"?g*-1:g),l?{x:a*p,y:d*u}:{x:d*u,y:a*p}}const $n=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,l=await ro(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},oo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...l}=Ye(e,t),u={x:n,y:r},p=await Be(t,l),f=nt(Ie(o)),d=Kn(f);let a=u[d],g=u[f];if(i){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=a+p[w],T=a-p[y];a=Dt(v,a,T)}if(s){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=g+p[w],T=g-p[y];g=Dt(v,g,T)}const h=c.fn({...t,[d]:a,[f]:g});return{...h,data:{x:h.x-n,y:h.y-r}}}}},io=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...c}=Ye(e,t),l=await Be(t,c),u=Ie(n),p=qe(n),f=nt(n)==="y",{width:d,height:a}=r.floating;let g,h;u==="top"||u==="bottom"?(g=u,h=p===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(h=u,g=p==="end"?"top":"bottom");const w=a-l[g],y=d-l[h],v=!t.middlewareData.shift;let T=w,E=y;if(f){const C=d-l.left-l.right;E=p||v?Te(y,C):C}else{const C=a-l.top-l.bottom;T=p||v?Te(w,C):C}if(v&&!p){const C=le(l.left,0),M=le(l.right,0),F=le(l.top,0),L=le(l.bottom,0);f?E=d-2*(C!==0||M!==0?C+M:le(l.left,l.right)):T=a-2*(F!==0||L!==0?F+L:le(l.top,l.bottom))}await s({...t,availableWidth:E,availableHeight:T});const R=await o.getDimensions(i.floating);return d!==R.width||a!==R.height?{reset:{rects:!0}}:{}}}};function ye(e){return Yn(e)?(e.nodeName||"").toLowerCase():"#document"}function se(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xe(e){var t;return(t=(Yn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Yn(e){return e instanceof Node||e instanceof se(e).Node}function q(e){return e instanceof Element||e instanceof se(e).Element}function ne(e){return e instanceof HTMLElement||e instanceof se(e).HTMLElement}function _t(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof se(e).ShadowRoot}function rt(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ue(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function so(e){return["table","td","th"].includes(ye(e))}function $t(e){const t=Yt(),n=ue(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qn(e){let t=De(e);for(;ne(t)&&!ze(t);){if($t(t))return t;t=De(t)}return null}function Yt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ze(e){return["html","body","#document"].includes(ye(e))}function ue(e){return se(e).getComputedStyle(e)}function Rt(e){return q(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function De(e){if(ye(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_t(e)&&e.host||xe(e);return _t(t)?t.host:t}function Un(e){const t=De(e);return ze(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&rt(t)?t:Un(t)}function Pe(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Un(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=se(o);return i?t.concat(s,s.visualViewport||[],rt(o)?o:[],s.frameElement&&n?Pe(s.frameElement):[]):t.concat(o,Pe(o,[],n))}function Xn(e){const t=ue(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ne(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=mt(n)!==i||mt(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function qt(e){return q(e)?e:e.contextElement}function He(e){const t=qt(e);if(!ne(t))return Se(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Xn(t);let s=(i?mt(n.width):n.width)/r,c=(i?mt(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const co=Se(0);function Gn(e){const t=se(e);return!Yt()||!t.visualViewport?co:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==se(e)?!1:t}function Ne(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=qt(e);let s=Se(1);t&&(r?q(r)&&(s=He(r)):s=He(e));const c=lo(i,n,r)?Gn(i):Se(0);let l=(o.left+c.x)/s.x,u=(o.top+c.y)/s.y,p=o.width/s.x,f=o.height/s.y;if(i){const d=se(i),a=r&&q(r)?se(r):r;let g=d.frameElement;for(;g&&r&&a!==d;){const h=He(g),w=g.getBoundingClientRect(),y=ue(g),v=w.left+(g.clientLeft+parseFloat(y.paddingLeft))*h.x,T=w.top+(g.clientTop+parseFloat(y.paddingTop))*h.y;l*=h.x,u*=h.y,p*=h.x,f*=h.y,l+=v,u+=T,g=se(g).frameElement}}return ht({width:p,height:f,x:l,y:u})}const uo=[":popover-open",":modal"];function Zn(e){let t=!1,n=0,r=0;function o(i){try{t=t||e.matches(i)}catch{}}if(uo.forEach(i=>{o(i)}),t){const i=qn(e);if(i){const s=i.getBoundingClientRect();n=s.x,r=s.y}}return[t,n,r]}function ao(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=xe(r),[s]=t?Zn(t.floating):[!1];if(r===i||s)return n;let c={scrollLeft:0,scrollTop:0},l=Se(1);const u=Se(0),p=ne(r);if((p||!p&&o!=="fixed")&&((ye(r)!=="body"||rt(i))&&(c=Rt(r)),ne(r))){const f=Ne(r);l=He(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x,y:n.y*l.y-c.scrollTop*l.y+u.y}}function fo(e){return Array.from(e.getClientRects())}function Jn(e){return Ne(xe(e)).left+Rt(e).scrollLeft}function po(e){const t=xe(e),n=Rt(e),r=e.ownerDocument.body,o=le(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=le(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Jn(e);const c=-n.scrollTop;return ue(r).direction==="rtl"&&(s+=le(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function mo(e,t){const n=se(e),r=xe(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const u=Yt();(!u||u&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}function go(e,t){const n=Ne(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ne(e)?He(e):Se(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:c,x:l,y:u}}function un(e,t,n){let r;if(t==="viewport")r=mo(e,n);else if(t==="document")r=po(xe(e));else if(q(t))r=go(t,n);else{const o=Gn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return ht(r)}function Qn(e,t){const n=De(e);return n===t||!q(n)||ze(n)?!1:ue(n).position==="fixed"||Qn(n,t)}function ho(e,t){const n=t.get(e);if(n)return n;let r=Pe(e,[],!1).filter(c=>q(c)&&ye(c)!=="body"),o=null;const i=ue(e).position==="fixed";let s=i?De(e):e;for(;q(s)&&!ze(s);){const c=ue(s),l=$t(s);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||rt(s)&&!l&&Qn(e,s))?r=r.filter(p=>p!==s):o=c,s=De(s)}return t.set(e,r),r}function vo(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?ho(t,this._c):[].concat(n),r],c=s[0],l=s.reduce((u,p)=>{const f=un(t,p,o);return u.top=le(f.top,u.top),u.right=Te(f.right,u.right),u.bottom=Te(f.bottom,u.bottom),u.left=le(f.left,u.left),u},un(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bo(e){const{width:t,height:n}=Xn(e);return{width:t,height:n}}function yo(e,t,n,r){const o=ne(t),i=xe(t),s=n==="fixed",c=Ne(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const u=Se(0);if(o||!o&&!s)if((ye(t)!=="body"||rt(i))&&(l=Rt(t)),o){const h=Ne(t,!0,s,t);u.x=h.x+t.clientLeft,u.y=h.y+t.clientTop}else i&&(u.x=Jn(i));let p=c.left+l.scrollLeft-u.x,f=c.top+l.scrollTop-u.y;const[d,a,g]=Zn(r);return d&&(p+=a,f+=g,o&&(p+=t.clientLeft,f+=t.clientTop)),{x:p,y:f,width:c.width,height:c.height}}function an(e,t){return!ne(e)||ue(e).position==="fixed"?null:t?t(e):e.offsetParent}function er(e,t){const n=se(e);if(!ne(e))return n;let r=an(e,t);for(;r&&so(r)&&ue(r).position==="static";)r=an(r,t);return r&&(ye(r)==="html"||ye(r)==="body"&&ue(r).position==="static"&&!$t(r))?n:r||qn(e)||n}const xo=async function(e){const t=this.getOffsetParent||er,n=this.getDimensions;return{reference:yo(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function wo(e){return ue(e).direction==="rtl"}const Ro={convertOffsetParentRelativeRectToViewportRelativeRect:ao,getDocumentElement:xe,getClippingRect:vo,getOffsetParent:er,getElementRects:xo,getClientRects:fo,getDimensions:bo,getScale:He,isElement:q,isRTL:wo};function Eo(e,t){let n=null,r;const o=xe(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:u,top:p,width:f,height:d}=e.getBoundingClientRect();if(c||t(),!f||!d)return;const a=je(p),g=je(o.clientWidth-(u+f)),h=je(o.clientHeight-(p+d)),w=je(u),v={rootMargin:-a+"px "+-g+"px "+-h+"px "+-w+"px",threshold:le(0,Te(1,l))||1};let T=!0;function E(R){const C=R[0].intersectionRatio;if(C!==l){if(!T)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},100)}T=!1}try{n=new IntersectionObserver(E,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(e)}return s(!0),i}function Co(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=qt(e),p=o||i?[...u?Pe(u):[],...Pe(t)]:[];p.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&c?Eo(u,n):null;let d=-1,a=null;s&&(a=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&a&&(a.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var T;(T=a)==null||T.observe(t)})),n()}),u&&!l&&a.observe(u),a.observe(t));let g,h=l?Ne(e):null;l&&w();function w(){const y=Ne(e);h&&(y.x!==h.x||y.y!==h.y||y.width!==h.width||y.height!==h.height)&&n(),h=y,g=requestAnimationFrame(w)}return n(),()=>{var y;p.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(y=a)==null||y.disconnect(),a=null,l&&cancelAnimationFrame(g)}}const Po=oo,To=no,Ji=io,fn=to,So=(e,t,n)=>{const r=new Map,o={platform:Ro,...n},i={...o.platform,_c:r};return eo(e,t,{...o,platform:i})},Io=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?fn({element:r.current,padding:o}).fn(n):{}:r?fn({element:r,padding:o}).fn(n):{}}}};var pt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function vt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vt(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!vt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function tr(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dn(e,t){const n=tr(e);return Math.round(t*n)/n}function pn(e){const t=m.useRef(e);return pt(()=>{t.current=e}),t}function nr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[p,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,a]=m.useState(r);vt(d,r)||a(r);const[g,h]=m.useState(null),[w,y]=m.useState(null),v=m.useCallback(P=>{P!==C.current&&(C.current=P,h(P))},[]),T=m.useCallback(P=>{P!==M.current&&(M.current=P,y(P))},[]),E=i||g,R=s||w,C=m.useRef(null),M=m.useRef(null),F=m.useRef(p),L=l!=null,O=pn(l),V=pn(o),k=m.useCallback(()=>{if(!C.current||!M.current)return;const P={placement:t,strategy:n,middleware:d};V.current&&(P.platform=V.current),So(C.current,M.current,P).then(I=>{const W={...I,isPositioned:!0};S.current&&!vt(F.current,W)&&(F.current=W,Ke.flushSync(()=>{f(W)}))})},[d,t,n,V]);pt(()=>{u===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const S=m.useRef(!1);pt(()=>(S.current=!0,()=>{S.current=!1}),[]),pt(()=>{if(E&&(C.current=E),R&&(M.current=R),E&&R){if(O.current)return O.current(E,R,k);k()}},[E,R,k,O,L]);const x=m.useMemo(()=>({reference:C,floating:M,setReference:v,setFloating:T}),[v,T]),b=m.useMemo(()=>({reference:E,floating:R}),[E,R]),A=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!b.floating)return P;const I=dn(b.floating,p.x),W=dn(b.floating,p.y);return c?{...P,transform:"translate("+I+"px, "+W+"px)",...tr(b.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:W}},[n,c,b.floating,p.x,p.y]);return m.useMemo(()=>({...p,update:k,refs:x,elements:b,floatingStyles:A}),[p,k,x,b,A])}const rr=m.createContext(null),Ao=e=>{var t;return(t=m.useContext(rr)||nr)==null?void 0:t(e)};var Ut={};const Oo=jn({}),{useStyledContext:ot,Provider:ko}=Oo;function Mo(e){const{children:t,size:n,strategy:r="absolute",placement:o="bottom",stayInFrame:i,allowFlip:s,offset:c,__scopePopper:l}=e,u=Br(),[p,f]=m.useState(null),[d,a]=m.useState(0),g=c??d,h=Ao({strategy:r,placement:o,sameScrollView:!1,middleware:[i?Po(typeof i=="boolean"?{}:i):null,s?To(typeof s=="boolean"?{}:s):null,p?Io({element:p}):null,typeof g<"u"?$n(g):null].filter(Boolean)}),{refs:w,middlewareData:y,open:v}=h;Bt(()=>{if(v&&w.reference.current&&w.floating.current)return Co(w.reference.current,w.floating.current,h.update)},[v,h.update,w.floating,w.reference]);const T={size:n,arrowRef:f,arrowStyle:y.arrow,onArrowSize:a,isMounted:u,scope:l,...h};return H.jsx(ko,{...T,children:t})}const Vt=et.extractable(m.forwardRef(function(e,t){const{virtualRef:n,__scopePopper:r,...o}=e,{getReferenceProps:i,refs:s}=ot(r),c=m.useRef(null),l=tt(t,c,n??s.setReference);if(n)return null;const u={ref:l,...o};return H.jsx(Wn,{...i?i(u):u})})),or=Ht(Ir,{name:"PopperContent",variants:{unstyled:{false:{size:"$true",backgroundColor:"$background",alignItems:"center",radiused:!0}},size:{"...size":(e,{tokens:t})=>({padding:t.space[e],borderRadius:t.radius[e]})}},defaultVariants:{unstyled:Ut.TAMAGUI_HEADLESS==="1"}}),Lo=m.forwardRef(function(e,t){const{__scopePopper:n,enableAnimationForPositionChange:r,...o}=e,{strategy:i,placement:s,refs:c,x:l,y:u,getFloatingProps:p,size:f,isMounted:d,update:a}=ot(n),g=tt(c.setFloating,t),h=m.useMemo(()=>H.jsx(or,{"data-placement":s,"data-strategy":i,contain:"layout",size:f,...o},"popper-content-frame"),[s,i,e]),[w,y]=m.useState(!0);if(m.useEffect(()=>{(l||u)&&y(!1)},[l,u]),Bt(()=>{d&&a()},[d]),!d)return null;const v={ref:g,x:l||0,y:u||0,top:0,left:0,position:i,...r&&{animation:o.animation,animateOnly:["none"]},...r&&!w&&{animation:o.animation,animateOnly:o.animateOnly}};return H.jsx(Bn,{...p?p(v):v,children:h})}),mn=Ht(et,{name:"PopperArrow",variants:{unstyled:{false:{borderColor:"$borderColor",backgroundColor:"$background",position:"relative"}}},defaultVariants:{unstyled:Ut.TAMAGUI_HEADLESS==="1"}}),Fo=Ht(et,{name:"PopperArrowOuter",variants:{unstyled:{false:{position:"absolute",zIndex:1e6,pointerEvents:"none",overflow:"hidden",alignItems:"center",justifyContent:"center"}}},defaultVariants:{unstyled:Ut.TAMAGUI_HEADLESS==="1"}}),Do={top:"bottom",right:"left",bottom:"top",left:"right"},gn=mn.styleable(function(e,t){var R,C;const{__scopePopper:n,...r}=e,o=Ar(r),{offset:i,size:s,borderWidth:c=0,...l}=o,u=ot(n),p=s??u.size,f=Hr(Or(p,{shift:-2,bounds:[2]})),d=Math.max(0,+f),{placement:a}=u,g=tt(u.arrowRef,t),h=((R=u.arrowStyle)==null?void 0:R.x)||0,w=((C=u.arrowStyle)==null?void 0:C.y)||0,y=a?a.split("-")[0]:"top",v={x:h,y:w,width:d,height:d},T={},E=y==="bottom"||y==="top";if(y){v[E?"width":"height"]=d*2;const M=Do[y];M&&(v[M]=-d,T[M]=d/2),M==="bottom"&&(v[M]+=1),(M==="top"||M==="bottom")&&(v.left=0),(M==="left"||M==="right")&&(v.top=0),Bt(()=>{var F;(F=u.onArrowSize)==null||F.call(u,d)},[d,u.onArrowSize])}return H.jsx(Fo,{ref:g,...v,children:H.jsx(mn,{width:d,height:d,...l,...T,rotate:"45deg",...y==="bottom"&&{borderLeftWidth:c,borderTopWidth:c},...y==="top"&&{borderBottomWidth:c,borderRightWidth:c},...y==="right"&&{borderLeftWidth:c,borderBottomWidth:c},...y==="left"&&{borderTopWidth:c,borderRightWidth:c}})})});function he(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ee(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&_t(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Xt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Gt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function ir(e){return e.mozInputSource===0&&e.isTrusted?!0:jt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Zt(e){return No()?!1:!jt()&&e.width===0&&e.height===0||jt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Jt(){return/apple/i.test(navigator.vendor)}function jt(){const e=/android/i;return e.test(Xt())||e.test(Gt())}function sr(){return Xt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function No(){return Gt().includes("jsdom/")}function bt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function _o(e){return"nativeEvent"in e}function Vo(e){return e.matches("html,body")}function ie(e){return(e==null?void 0:e.ownerDocument)||document}function Tt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Ce(e){return"composedPath"in e?e.composedPath()[0]:e.target}const jo="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Qt(e){return ne(e)&&e.matches(jo)}function te(e){e.preventDefault(),e.stopPropagation()}function cr(e){return e?e.getAttribute("role")==="combobox"&&Qt(e):!1}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Wo=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Wt=Wo.join(","),lr=typeof Element>"u",Je=lr?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,yt=!lr&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},xt=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},Bo=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Ho=function(t,n,r){if(xt(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Wt));return n&&Je.call(t,Wt)&&o.unshift(t),o=o.filter(r),o},Ko=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!xt(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),l=c.length?c:s.children,u=e(l,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:s,candidates:u})}else{var p=Je.call(s,Wt);p&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),d=!xt(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&d){var a=e(f===!0?s.children:f.children,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else i.unshift.apply(i,s.children)}}return o},ur=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},ar=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Bo(t))&&!ur(t)?0:t.tabIndex},zo=function(t,n){var r=ar(t);return r<0&&n&&!ur(t)?0:r},$o=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},fr=function(t){return t.tagName==="INPUT"},Yo=function(t){return fr(t)&&t.type==="hidden"},qo=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Uo=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Xo=function(t){if(!t.name)return!0;var n=t.form||yt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Uo(o,t.form);return!i||i===t},Go=function(t){return fr(t)&&t.type==="radio"},Zo=function(t){return Go(t)&&!Xo(t)},Jo=function(t){var n,r=t&&yt(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,l;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&o;){var u,p,f;r=yt(o),o=(u=r)===null||u===void 0?void 0:u.host,i=!!((p=o)!==null&&p!==void 0&&(f=p.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},hn=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Qo=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Je.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(Je.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var l=t.parentElement,u=yt(t);if(l&&!l.shadowRoot&&o(l)===!0)return hn(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=c}if(Jo(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return hn(t);return!1},ei=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Je.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},ti=function(t,n){return!(n.disabled||xt(n)||Yo(n)||Qo(n,t)||qo(n)||ei(n))},vn=function(t,n){return!(Zo(n)||ar(n)<0||!ti(t,n))},ni=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ri=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,l=zo(c,s),u=s?e(o.candidates):c;l===0?s?n.push.apply(n,u):n.push(c):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:u})}),r.sort($o).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},en=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Ko([t],n.includeContainer,{filter:vn.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:ni}):r=Ho(t,n.includeContainer,vn.bind(null,n)),ri(r)};const oi=Hn.useInsertionEffect,ii=oi||(e=>e());function fe(e){const t=m.useRef(()=>{});return ii(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const tn="ArrowUp",it="ArrowDown",$e="ArrowLeft",Ue="ArrowRight";function at(e,t,n){return Math.floor(e/t)!==n}function Ge(e,t){return t<0||t>=e.current.length}function St(e,t){return re(e,{disabledIndices:t})}function bn(e,t){return re(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function re(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current,c=o?u=>o.includes(u):u=>{const p=s[u];return p==null||p.hasAttribute("disabled")||p.getAttribute("aria-disabled")==="true"};let l=n;do l+=r?-i:i;while(l>=0&&l<=s.length-1&&c(l));return l}function si(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:s,minIndex:c,maxIndex:l,prevIndex:u,stopEvent:p=!1}=t,f=u;if(n.key===tn){if(p&&te(n),u===-1)f=l;else if(f=re(e,{startingIndex:f,amount:i,decrement:!0,disabledIndices:s}),o&&(u-i<c||f<0)){const d=u%i,a=l%i,g=l-(a-d);a===d?f=l:f=a>d?g:g-i}Ge(e,f)&&(f=u)}if(n.key===it&&(p&&te(n),u===-1?f=c:(f=re(e,{startingIndex:u,amount:i,disabledIndices:s}),o&&u+i>l&&(f=re(e,{startingIndex:u%i-i,amount:i,disabledIndices:s}))),Ge(e,f)&&(f=u)),r==="both"){const d=je(u/i);n.key===Ue&&(p&&te(n),u%i!==i-1?(f=re(e,{startingIndex:u,disabledIndices:s}),o&&at(f,i,d)&&(f=re(e,{startingIndex:u-u%i-1,disabledIndices:s}))):o&&(f=re(e,{startingIndex:u-u%i-1,disabledIndices:s})),at(f,i,d)&&(f=u)),n.key===$e&&(p&&te(n),u%i!==0?(f=re(e,{startingIndex:u,disabledIndices:s,decrement:!0}),o&&at(f,i,d)&&(f=re(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s}))):o&&(f=re(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s})),at(f,i,d)&&(f=u));const a=je(l/i)===d;Ge(e,f)&&(o&&a?f=n.key===$e?l:re(e,{startingIndex:u-u%i-1,disabledIndices:s}):f=u)}return f}function ci(e,t,n){const r=[];let o=0;return e.forEach((i,s)=>{let{width:c,height:l}=i,u=!1;for(n&&(o=0);!u;){const p=[];for(let f=0;f<c;f++)for(let d=0;d<l;d++)p.push(o+f+d*t);o%t+c<=t&&p.every(f=>r[f]==null)?(p.forEach(f=>{r[f]=s}),u=!0):o++}}),[...r]}function li(e,t,n,r,o){if(e===-1)return-1;const i=n.indexOf(e);switch(o){case"tl":return i;case"tr":return i+t[e].width-1;case"bl":return i+(t[e].height-1)*r;case"br":return n.lastIndexOf(e)}}function ui(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}let yn=0;function be(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(yn);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():yn=requestAnimationFrame(i)}var G=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}let It=!1,ai=0;const xn=()=>"floating-ui-"+ai++;function fi(){const[e,t]=m.useState(()=>It?xn():void 0);return G(()=>{e==null&&t(xn())},[]),m.useEffect(()=>{It||(It=!0)},[]),e}const di=Hn.useId,Et=di||fi;function pi(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const mi=m.createContext(null),gi=m.createContext(null),Ct=()=>{var e;return((e=m.useContext(mi))==null?void 0:e.id)||null},st=()=>m.useContext(gi);function _e(e){return"data-floating-ui-"+e}function ve(e){const t=m.useRef(e);return G(()=>{t.current=e}),t}const wn=_e("safe-polygon");function At(e,t,n){return n&&!bt(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Rn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c},refs:l}=e,{enabled:u=!0,delay:p=0,handleClose:f=null,mouseOnly:d=!1,restMs:a=0,move:g=!0}=t,h=st(),w=Ct(),y=ve(f),v=ve(p),T=m.useRef(),E=m.useRef(),R=m.useRef(),C=m.useRef(),M=m.useRef(!0),F=m.useRef(!1),L=m.useRef(()=>{}),O=m.useCallback(()=>{var x;const b=(x=o.current.openEvent)==null?void 0:x.type;return(b==null?void 0:b.includes("mouse"))&&b!=="mousedown"},[o]);m.useEffect(()=>{if(!u)return;function x(b){let{open:A}=b;A||(clearTimeout(E.current),clearTimeout(C.current),M.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[u,i]),m.useEffect(()=>{if(!u||!y.current||!n)return;function x(A){O()&&r(!1,A,"hover")}const b=ie(c).documentElement;return b.addEventListener("mouseleave",x),()=>{b.removeEventListener("mouseleave",x)}},[c,n,r,u,y,O]);const V=m.useCallback(function(x,b,A){b===void 0&&(b=!0),A===void 0&&(A="hover");const P=At(v.current,"close",T.current);P&&!R.current?(clearTimeout(E.current),E.current=setTimeout(()=>r(!1,x,A),P)):b&&(clearTimeout(E.current),r(!1,x,A))},[v,r]),k=m.useCallback(()=>{L.current(),R.current=void 0},[]),S=m.useCallback(()=>{if(F.current){const x=ie(l.floating.current).body;x.style.pointerEvents="",x.removeAttribute(wn),F.current=!1}},[l]);return m.useEffect(()=>{if(!u)return;function x(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function b(I){if(clearTimeout(E.current),M.current=!1,d&&!bt(T.current)||a>0&&At(v.current,"open")===0)return;const W=At(v.current,"open",T.current);W?E.current=setTimeout(()=>{r(!0,I,"hover")},W):r(!0,I,"hover")}function A(I){if(x())return;L.current();const W=ie(c);if(clearTimeout(C.current),y.current){n||clearTimeout(E.current),R.current=y.current({...e,tree:h,x:I.clientX,y:I.clientY,onClose(){S(),k(),V(I,!0,"safe-polygon")}});const N=R.current;W.addEventListener("mousemove",N),L.current=()=>{W.removeEventListener("mousemove",N)};return}(T.current==="touch"?!ee(c,I.relatedTarget):!0)&&V(I)}function P(I){x()||y.current==null||y.current({...e,tree:h,x:I.clientX,y:I.clientY,onClose(){S(),k(),V(I)}})(I)}if(q(s)){const I=s;return n&&I.addEventListener("mouseleave",P),c==null||c.addEventListener("mouseleave",P),g&&I.addEventListener("mousemove",b,{once:!0}),I.addEventListener("mouseenter",b),I.addEventListener("mouseleave",A),()=>{n&&I.removeEventListener("mouseleave",P),c==null||c.removeEventListener("mouseleave",P),g&&I.removeEventListener("mousemove",b),I.removeEventListener("mouseenter",b),I.removeEventListener("mouseleave",A)}}},[s,c,u,e,d,a,g,V,k,S,r,n,h,v,y,o]),G(()=>{var x;if(u&&n&&(x=y.current)!=null&&x.__options.blockPointerEvents&&O()){const A=ie(c).body;if(A.setAttribute(wn,""),A.style.pointerEvents="none",F.current=!0,q(s)&&c){var b;const P=s,I=h==null||(b=h.nodesRef.current.find(W=>W.id===w))==null||(b=b.context)==null?void 0:b.elements.floating;return I&&(I.style.pointerEvents=""),P.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{P.style.pointerEvents="",c.style.pointerEvents=""}}}},[u,n,w,c,s,h,y,O]),G(()=>{n||(T.current=void 0,k(),S())},[n,k,S]),m.useEffect(()=>()=>{k(),clearTimeout(E.current),clearTimeout(C.current),S()},[u,s,k,S]),m.useMemo(()=>{if(!u)return{};function x(b){T.current=b.pointerType}return{reference:{onPointerDown:x,onPointerEnter:x,onMouseMove(b){n||a===0||(clearTimeout(C.current),C.current=setTimeout(()=>{M.current||r(!0,b.nativeEvent,"hover")},a))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(b){V(b.nativeEvent,!1)}}}},[u,a,n,r,V])}function hi(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Fe(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function vi(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),Fe(e,i).forEach(l=>{o(l.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let Ve=new WeakMap,ft=new WeakSet,dt={},Ot=0;const bi=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,dr=e=>e&&(e.host||dr(e.parentNode)),yi=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=dr(n);return e.contains(r)?r:null}).filter(n=>n!=null);function xi(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=yi(t,e),c=new Set,l=new Set(s),u=[];dt[o]||(dt[o]=new WeakMap);const p=dt[o];s.forEach(f),d(t),c.clear();function f(a){!a||c.has(a)||(c.add(a),a.parentNode&&f(a.parentNode))}function d(a){!a||l.has(a)||Array.prototype.forEach.call(a.children,g=>{if(c.has(g))d(g);else{const h=i?g.getAttribute(i):null,w=h!==null&&h!=="false",y=(Ve.get(g)||0)+1,v=(p.get(g)||0)+1;Ve.set(g,y),p.set(g,v),u.push(g),y===1&&w&&ft.add(g),v===1&&g.setAttribute(o,""),!w&&i&&g.setAttribute(i,"true")}})}return Ot++,()=>{u.forEach(a=>{const g=(Ve.get(a)||0)-1,h=(p.get(a)||0)-1;Ve.set(a,g),p.set(a,h),g||(!ft.has(a)&&i&&a.removeAttribute(i),ft.delete(a)),h||a.removeAttribute(o)}),Ot--,Ot||(Ve=new WeakMap,Ve=new WeakMap,ft=new WeakSet,dt={})}}function En(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=ie(e[0]).body;return xi(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const nn=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function pr(e,t){const n=en(e,nn());t==="prev"&&n.reverse();const r=n.indexOf(he(ie(e)));return n.slice(r+1)[0]}function mr(){return pr(document.body,"next")}function gr(){return pr(document.body,"prev")}function Ze(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ee(n,r)}function wi(e){en(e,nn()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Ri(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const rn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Ei;function Cn(e){e.key==="Tab"&&(e.target,clearTimeout(Ei))}const wt=m.forwardRef(function(t,n){const[r,o]=m.useState();G(()=>(Jt()&&o("button"),document.addEventListener("keydown",Cn),()=>{document.removeEventListener("keydown",Cn)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[_e("focus-guard")]:"",style:rn};return m.createElement("span",Qe({},t,i))}),hr=m.createContext(null),Pn=_e("portal");function Ci(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=m.useState(null),i=Et(),s=vr(),c=m.useRef(null);return G(()=>()=>{r==null||r.remove(),queueMicrotask(()=>{c.current=null})},[r]),G(()=>{if(c.current)return;const l=t?document.getElementById(t):null;if(!l)return;const u=document.createElement("div");u.id=i,u.setAttribute(Pn,""),l.appendChild(u),c.current=u,o(u)},[t,i]),G(()=>{if(c.current)return;let l=n||(s==null?void 0:s.portalNode);l&&!q(l)&&(l=l.current),l=l||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,l.appendChild(u));const p=document.createElement("div");p.id=i,p.setAttribute(Pn,""),l=u||l,l.appendChild(p),c.current=p,o(p)},[t,n,i,s]),r}function Qi(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Ci({id:n,root:r}),[s,c]=m.useState(null),l=m.useRef(null),u=m.useRef(null),p=m.useRef(null),f=m.useRef(null),d=!!s&&!s.modal&&s.open&&o&&!!(r||i);return m.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function a(g){i&&Ze(g)&&(g.type==="focusin"?Ri:wi)(i)}return i.addEventListener("focusin",a,!0),i.addEventListener("focusout",a,!0),()=>{i.removeEventListener("focusin",a,!0),i.removeEventListener("focusout",a,!0)}},[i,o,s==null?void 0:s.modal]),m.createElement(hr.Provider,{value:m.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:p,afterInsideRef:f,portalNode:i,setFocusManagerState:c}),[o,i])},d&&i&&m.createElement(wt,{"data-type":"outside",ref:l,onFocus:a=>{if(Ze(a,i)){var g;(g=p.current)==null||g.focus()}else{const h=gr()||(s==null?void 0:s.refs.domReference.current);h==null||h.focus()}}}),d&&i&&m.createElement("span",{"aria-owns":i.id,style:rn}),i&&Ke.createPortal(t,i),d&&i&&m.createElement(wt,{"data-type":"outside",ref:u,onFocus:a=>{if(Ze(a,i)){var g;(g=f.current)==null||g.focus()}else{const h=mr()||(s==null?void 0:s.refs.domReference.current);h==null||h.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,a.nativeEvent))}}}))}const vr=()=>m.useContext(hr),Tn=20;let Le=[];function kt(e){Le=Le.filter(t=>t.isConnected),e&&ye(e)!=="body"&&(Le.push(e),Le.length>Tn&&(Le=Le.slice(-Tn)))}function Sn(){return Le.slice().reverse().find(e=>e.isConnected)}const Pi=m.forwardRef(function(t,n){return m.createElement("button",Qe({},t,{type:"button",ref:n,tabIndex:-1,style:rn}))});function es(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,modal:l=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:d,nodeId:a,onOpenChange:g,events:h,dataRef:w,elements:{domReference:y,floating:v}}=t,T=typeof s=="number"&&s<0,E=cr(y)&&T,R=bi()?i:!0,C=ve(o),M=ve(s),F=ve(c),L=st(),O=vr(),V=m.useRef(null),k=m.useRef(null),S=m.useRef(!1),x=m.useRef(!1),b=O!=null,A=m.useCallback(function(D){return D===void 0&&(D=v),D?en(D,nn()):[]},[v]),P=m.useCallback(D=>{const N=A(D);return C.current.map(_=>y&&_==="reference"?y:v&&_==="floating"?v:N).filter(Boolean).flat()},[y,v,C,A]);m.useEffect(()=>{if(r||!l)return;function D(_){if(_.key==="Tab"){ee(v,he(ie(v)))&&A().length===0&&!E&&te(_);const B=P(),$=Ce(_);C.current[0]==="reference"&&$===y&&(te(_),_.shiftKey?be(B[B.length-1]):be(B[1])),C.current[1]==="floating"&&$===v&&_.shiftKey&&(te(_),be(B[0]))}}const N=ie(v);return N.addEventListener("keydown",D),()=>{N.removeEventListener("keydown",D)}},[r,y,v,l,C,E,A,P]),m.useEffect(()=>{if(r||!p)return;function D(){x.current=!0,setTimeout(()=>{x.current=!1})}function N(_){const B=_.relatedTarget;queueMicrotask(()=>{const $=!(ee(y,B)||ee(v,B)||ee(B,v)||ee(O==null?void 0:O.portalNode,B)||B!=null&&B.hasAttribute(_e("focus-guard"))||L&&(Fe(L.nodesRef.current,a).find(z=>{var Z,J;return ee((Z=z.context)==null?void 0:Z.elements.floating,B)||ee((J=z.context)==null?void 0:J.elements.domReference,B)})||hi(L.nodesRef.current,a).find(z=>{var Z,J;return((Z=z.context)==null?void 0:Z.elements.floating)===B||((J=z.context)==null?void 0:J.elements.domReference)===B})));B&&$&&!x.current&&B!==Sn()&&(S.current=!0,g(!1,_))})}if(v&&ne(y))return y.addEventListener("focusout",N),y.addEventListener("pointerdown",D),!l&&v.addEventListener("focusout",N),()=>{y.removeEventListener("focusout",N),y.removeEventListener("pointerdown",D),!l&&v.removeEventListener("focusout",N)}},[r,y,v,l,a,L,O,g,p]),m.useEffect(()=>{var D;if(r)return;const N=Array.from((O==null||(D=O.portalNode)==null?void 0:D.querySelectorAll("["+_e("portal")+"]"))||[]);if(v){const _=[v,...N,V.current,k.current,C.current.includes("reference")||E?y:null].filter($=>$!=null),B=l||E?En(_,R,!R):En(_);return()=>{B()}}},[r,y,v,l,C,O,E,R]),G(()=>{if(r||!v)return;const D=ie(v),N=he(D);queueMicrotask(()=>{const _=P(v),B=M.current,$=(typeof B=="number"?_[B]:B.current)||v,z=ee(v,N);!T&&!z&&f&&be($,{preventScroll:$===v})})},[r,f,v,T,P,M]),G(()=>{if(r||!v)return;let D=!1;const N=ie(v),_=he(N),B=w.current;kt(_);function $(z){let{reason:Z,event:J,nested:Y}=z;Z==="escape-key"&&d.domReference.current&&kt(d.domReference.current),Z==="hover"&&J.type==="mouseleave"&&(S.current=!0),Z==="outside-press"&&(Y?(S.current=!1,D=!0):S.current=!(ir(J)||Zt(J)))}return h.on("openchange",$),()=>{h.off("openchange",$);const z=he(N),Z=ee(v,z)||L&&Fe(L.nodesRef.current,a).some(U=>{var ce;return ee((ce=U.context)==null?void 0:ce.elements.floating,z)});(Z||B.openEvent&&["click","mousedown"].includes(B.openEvent.type))&&d.domReference.current&&kt(d.domReference.current);const Y=Sn();F.current&&!S.current&&ne(Y)&&(!(Y!==z&&z!==N.body)||Z)&&be(Y,{cancelPrevious:!1,preventScroll:D})}},[r,v,F,w,d,h,L,a]),G(()=>{if(!(r||!O))return O.setFocusManagerState({modal:l,closeOnFocusOut:p,open:f,onOpenChange:g,refs:d}),()=>{O.setFocusManagerState(null)}},[r,O,l,f,g,d,p]),G(()=>{if(r||!v||typeof MutationObserver!="function"||T)return;const D=()=>{const _=v.getAttribute("tabindex");C.current.includes("floating")||he(ie(v))!==d.domReference.current&&A().length===0?_!=="0"&&v.setAttribute("tabindex","0"):_!=="-1"&&v.setAttribute("tabindex","-1")};D();const N=new MutationObserver(D);return N.observe(v,{childList:!0,subtree:!0,attributes:!0}),()=>{N.disconnect()}},[r,v,d,C,A,T]);function I(D){return r||!u||!l?null:m.createElement(Pi,{ref:D==="start"?V:k,onClick:N=>g(!1,N.nativeEvent)},typeof u=="string"?u:"Dismiss")}const W=!r&&R&&(b||l);return m.createElement(m.Fragment,null,W&&m.createElement(wt,{"data-type":"inside",ref:O==null?void 0:O.beforeInsideRef,onFocus:D=>{if(l){const _=P();be(o[0]==="reference"?_[0]:_[_.length-1])}else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(S.current=!1,Ze(D,O.portalNode)){const _=mr()||y;_==null||_.focus()}else{var N;(N=O.beforeOutsideRef.current)==null||N.focus()}}}),!E&&I("start"),n,I("end"),W&&m.createElement(wt,{"data-type":"inside",ref:O==null?void 0:O.afterInsideRef,onFocus:D=>{if(l)be(P()[0]);else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(p&&(S.current=!0),Ze(D,O.portalNode)){const _=gr()||y;_==null||_.focus()}else{var N;(N=O.afterOutsideRef.current)==null||N.focus()}}}))}const Mt=new Set,ts=m.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;const i=Et();return G(()=>{if(!r)return;Mt.add(i);const s=/iP(hone|ad|od)|iOS/.test(Xt()),c=document.body.style,u=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",p=window.innerWidth-document.documentElement.clientWidth,f=c.left?parseFloat(c.left):window.pageXOffset,d=c.top?parseFloat(c.top):window.pageYOffset;if(c.overflow="hidden",p&&(c[u]=p+"px"),s){var a,g;const h=((a=window.visualViewport)==null?void 0:a.offsetLeft)||0,w=((g=window.visualViewport)==null?void 0:g.offsetTop)||0;Object.assign(c,{position:"fixed",top:-(d-Math.floor(w))+"px",left:-(f-Math.floor(h))+"px",right:"0"})}return()=>{Mt.delete(i),Mt.size===0&&(Object.assign(c,{overflow:"",[u]:""}),s&&(Object.assign(c,{position:"",top:"",left:"",right:""}),window.scrollTo(f,d)))}},[i,r]),m.createElement("div",Qe({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function In(e){return ne(e.target)&&e.target.tagName==="BUTTON"}function An(e){return Qt(e)}function ns(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:p=!0}=t,f=m.useRef(),d=m.useRef(!1);return m.useMemo(()=>s?{reference:{onPointerDown(a){f.current=a.pointerType},onMouseDown(a){a.button===0&&(bt(f.current,!0)&&u||c!=="click"&&(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,a.nativeEvent,"click"):(a.preventDefault(),r(!0,a.nativeEvent,"click"))))},onClick(a){if(c==="mousedown"&&f.current){f.current=void 0;return}bt(f.current,!0)&&u||(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,a.nativeEvent,"click"):r(!0,a.nativeEvent,"click"))},onKeyDown(a){f.current=void 0,!(a.defaultPrevented||!p||In(a))&&(a.key===" "&&!An(i)&&(a.preventDefault(),d.current=!0),a.key==="Enter"&&r(!(n&&l),a.nativeEvent,"click"))},onKeyUp(a){a.defaultPrevented||!p||In(a)||An(i)||a.key===" "&&d.current&&(d.current=!1,r(!(n&&l),a.nativeEvent,"click"))}}}:{},[s,o,c,u,p,i,l,n,r])}const Ti={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Si={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},On=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Ii(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,nodeId:o,elements:{reference:i,domReference:s,floating:c},dataRef:l}=e,{enabled:u=!0,escapeKey:p=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:a=!1,referencePressEvent:g="pointerdown",ancestorScroll:h=!1,bubbles:w,capture:y}=t,v=st(),T=fe(typeof f=="function"?f:()=>!1),E=typeof f=="function"?T:f,R=m.useRef(!1),C=m.useRef(!1),{escapeKey:M,outsidePress:F}=On(w),{escapeKey:L,outsidePress:O}=On(y),V=fe(b=>{if(!n||!u||!p||b.key!=="Escape")return;const A=v?Fe(v.nodesRef.current,o):[];if(!M&&(b.stopPropagation(),A.length>0)){let P=!0;if(A.forEach(I=>{var W;if((W=I.context)!=null&&W.open&&!I.context.dataRef.current.__escapeKeyBubbles){P=!1;return}}),!P)return}r(!1,_o(b)?b.nativeEvent:b,"escape-key")}),k=fe(b=>{var A;const P=()=>{var I;V(b),(I=Ce(b))==null||I.removeEventListener("keydown",P)};(A=Ce(b))==null||A.addEventListener("keydown",P)}),S=fe(b=>{const A=R.current;R.current=!1;const P=C.current;if(C.current=!1,d==="click"&&P||A||typeof E=="function"&&!E(b))return;const I=Ce(b),W="["+_e("inert")+"]",D=ie(c).querySelectorAll(W);let N=q(I)?I:null;for(;N&&!ze(N);){const $=De(N);if(ze($)||!q($))break;N=$}if(D.length&&q(I)&&!Vo(I)&&!ee(I,c)&&Array.from(D).every($=>!ee(N,$)))return;if(ne(I)&&c){const $=I.clientWidth>0&&I.scrollWidth>I.clientWidth,z=I.clientHeight>0&&I.scrollHeight>I.clientHeight;let Z=z&&b.offsetX>I.clientWidth;if(z&&ue(I).direction==="rtl"&&(Z=b.offsetX<=I.offsetWidth-I.clientWidth),Z||$&&b.offsetY>I.clientHeight)return}const _=v&&Fe(v.nodesRef.current,o).some($=>{var z;return Tt(b,(z=$.context)==null?void 0:z.elements.floating)});if(Tt(b,c)||Tt(b,s)||_)return;const B=v?Fe(v.nodesRef.current,o):[];if(B.length>0){let $=!0;if(B.forEach(z=>{var Z;if((Z=z.context)!=null&&Z.open&&!z.context.dataRef.current.__outsidePressBubbles){$=!1;return}}),!$)return}r(!1,b,"outside-press")}),x=fe(b=>{var A;const P=()=>{var I;S(b),(I=Ce(b))==null||I.removeEventListener(d,P)};(A=Ce(b))==null||A.addEventListener(d,P)});return m.useEffect(()=>{if(!n||!u)return;l.current.__escapeKeyBubbles=M,l.current.__outsidePressBubbles=F;function b(I){r(!1,I,"ancestor-scroll")}const A=ie(c);p&&A.addEventListener("keydown",L?k:V,L),E&&A.addEventListener(d,O?x:S,O);let P=[];return h&&(q(s)&&(P=Pe(s)),q(c)&&(P=P.concat(Pe(c))),!q(i)&&i&&i.contextElement&&(P=P.concat(Pe(i.contextElement)))),P=P.filter(I=>{var W;return I!==((W=A.defaultView)==null?void 0:W.visualViewport)}),P.forEach(I=>{I.addEventListener("scroll",b,{passive:!0})}),()=>{p&&A.removeEventListener("keydown",L?k:V,L),E&&A.removeEventListener(d,O?x:S,O),P.forEach(I=>{I.removeEventListener("scroll",b)})}},[l,c,s,i,p,E,d,n,r,h,u,M,F,V,L,k,S,O,x]),m.useEffect(()=>{R.current=!1},[E,d]),m.useMemo(()=>u?{reference:{onKeyDown:V,[Ti[g]]:b=>{a&&r(!1,b.nativeEvent,"reference-press")}},floating:{onKeyDown:V,onMouseDown(){C.current=!0},onMouseUp(){C.current=!0},[Si[d]]:()=>{R.current=!0}}}:{},[u,a,d,g,r,V])}function Ai(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=m.useState(null),c=((t=e.elements)==null?void 0:t.reference)||i,l=nr(e),u=st(),p=Ct()!=null,f=fe((R,C,M)=>{R&&(a.current.openEvent=C),g.emit("openchange",{open:R,event:C,reason:M,nested:p}),r==null||r(R,C,M)}),d=m.useRef(null),a=m.useRef({}),g=m.useState(()=>pi())[0],h=Et(),w=m.useCallback(R=>{const C=q(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;l.refs.setReference(C)},[l.refs]),y=m.useCallback(R=>{(q(R)||R===null)&&(d.current=R,s(R)),(q(l.refs.reference.current)||l.refs.reference.current===null||R!==null&&!q(R))&&l.refs.setReference(R)},[l.refs]),v=m.useMemo(()=>({...l.refs,setReference:y,setPositionReference:w,domReference:d}),[l.refs,y,w]),T=m.useMemo(()=>({...l.elements,domReference:c}),[l.elements,c]),E=m.useMemo(()=>({...l,refs:v,elements:T,dataRef:a,nodeId:o,floatingId:h,events:g,open:n,onOpenChange:f}),[l,o,h,g,n,f,v,T]);return G(()=>{const R=u==null?void 0:u.nodesRef.current.find(C=>C.id===o);R&&(R.context=E)}),m.useMemo(()=>({...l,context:E,refs:v,elements:T}),[l,v,T,E])}function Oi(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,refs:i,elements:{domReference:s}}=e,{enabled:c=!0,visibleOnly:l=!0}=t,u=m.useRef(!1),p=m.useRef(),f=m.useRef(!0);return m.useEffect(()=>{if(!c)return;const d=se(s);function a(){!n&&ne(s)&&s===he(ie(s))&&(u.current=!0)}function g(){f.current=!0}return d.addEventListener("blur",a),d.addEventListener("keydown",g,!0),()=>{d.removeEventListener("blur",a),d.removeEventListener("keydown",g,!0)}},[s,n,c]),m.useEffect(()=>{if(!c)return;function d(a){let{reason:g}=a;(g==="reference-press"||g==="escape-key")&&(u.current=!0)}return o.on("openchange",d),()=>{o.off("openchange",d)}},[o,c]),m.useEffect(()=>()=>{clearTimeout(p.current)},[]),m.useMemo(()=>c?{reference:{onPointerDown(d){Zt(d.nativeEvent)||(f.current=!1)},onMouseLeave(){u.current=!1},onFocus(d){if(u.current)return;const a=Ce(d.nativeEvent);if(l&&q(a))try{if(Jt()&&sr())throw Error();if(!a.matches(":focus-visible"))return}catch{if(!f.current&&!Qt(a))return}r(!0,d.nativeEvent,"focus")},onBlur(d){u.current=!1;const a=d.relatedTarget,g=q(a)&&a.hasAttribute(_e("focus-guard"))&&a.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{const h=he(s?s.ownerDocument:document);!a&&h===s||ee(i.floating.current,a)||ee(s,a)||g||r(!1,d.nativeEvent,"focus")})}}}:{},[c,l,s,i,r])}const kn="active",Mn="selected";function Lt(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[kn]:s,[Mn]:c,...l}=e;i=l}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(l=>{let[u,p]=l;if(!(o&&[kn,Mn].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof p=="function"){var f;(f=r.get(u))==null||f.push(p),s[u]=function(){for(var d,a=arguments.length,g=new Array(a),h=0;h<a;h++)g[h]=arguments[h];return(d=r.get(u))==null?void 0:d.map(w=>w(...g)).find(w=>w!==void 0)}}}else s[u]=p}),s),{})}}function ki(e){e===void 0&&(e=[]);const t=e,n=m.useCallback(i=>Lt(i,e,"reference"),t),r=m.useCallback(i=>Lt(i,e,"floating"),t),o=m.useCallback(i=>Lt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return m.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let Ln=!1;function Pt(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Fn(e,t){return Pt(t,e===tn||e===it,e===$e||e===Ue)}function Ft(e,t,n){return Pt(t,e===it,n?e===$e:e===Ue)||e==="Enter"||e===" "||e===""}function Mi(e,t,n){return Pt(t,n?e===$e:e===Ue,e===it)}function Dn(e,t,n){return Pt(t,n?e===Ue:e===$e,e===tn)}function rs(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:s}}=e,{listRef:c,activeIndex:l,onNavigate:u=()=>{},enabled:p=!0,selectedIndex:f=null,allowEscape:d=!1,loop:a=!1,nested:g=!1,rtl:h=!1,virtual:w=!1,focusItemOnOpen:y="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:T=!0,disabledIndices:E=void 0,orientation:R="vertical",cols:C=1,scrollItemIntoView:M=!0,virtualItemRef:F,itemSizes:L,dense:O=!1}=t,V=Ct(),k=st(),S=fe(u),x=m.useRef(y),b=m.useRef(f??-1),A=m.useRef(null),P=m.useRef(!0),I=m.useRef(S),W=m.useRef(!!s),D=m.useRef(!1),N=m.useRef(!1),_=ve(E),B=ve(n),$=ve(M),[z,Z]=m.useState(),[J,Y]=m.useState(),U=fe(function(K,oe,Q){Q===void 0&&(Q=!1);const X=K.current[oe.current];X&&(w?(Z(X.id),k==null||k.events.emit("virtualfocus",X),F&&(F.current=X)):be(X,{preventScroll:!0,sync:sr()&&Jt()?Ln||D.current:!1}),requestAnimationFrame(()=>{const we=$.current;we&&X&&(Q||!P.current)&&(X.scrollIntoView==null||X.scrollIntoView(typeof we=="boolean"?{block:"nearest",inline:"nearest"}:we))}))});G(()=>{document.createElement("div").focus({get preventScroll(){return Ln=!0,!1}})},[]),G(()=>{p&&(n&&s?x.current&&f!=null&&(N.current=!0,b.current=f,S(f)):W.current&&(b.current=-1,I.current(null)))},[p,n,s,f,S]),G(()=>{if(p&&n&&s)if(l==null){if(D.current=!1,f!=null)return;if(W.current&&(b.current=-1,U(c,b)),!W.current&&x.current&&(A.current!=null||x.current===!0&&A.current==null)){let K=0;const oe=()=>{c.current[0]==null?(K<2&&(K?requestAnimationFrame:queueMicrotask)(oe),K++):(b.current=A.current==null||Ft(A.current,R,h)||g?St(c,_.current):bn(c,_.current),A.current=null,S(b.current))};oe()}}else Ge(c,l)||(b.current=l,U(c,b,N.current),N.current=!1)},[p,n,s,l,f,g,c,R,h,S,U,_]),G(()=>{var K;if(!p||s||!k||w||!W.current)return;const oe=k.nodesRef.current,Q=(K=oe.find(ke=>ke.id===V))==null||(K=K.context)==null?void 0:K.elements.floating,X=he(ie(s)),we=oe.some(ke=>ke.context&&ee(ke.context.elements.floating,X));Q&&!we&&P.current&&Q.focus({preventScroll:!0})},[p,s,k,V,w]),G(()=>{if(!p||!k||!w||V)return;function K(oe){Y(oe.id),F&&(F.current=oe)}return k.events.on("virtualfocus",K),()=>{k.events.off("virtualfocus",K)}},[p,k,w,V,F]),G(()=>{I.current=S,W.current=!!s}),G(()=>{n||(A.current=null)},[n]);const ce=l!=null,de=m.useMemo(()=>{function K(Q){if(!n)return;const X=c.current.indexOf(Q);X!==-1&&S(X)}return{onFocus(Q){let{currentTarget:X}=Q;K(X)},onClick:Q=>{let{currentTarget:X}=Q;return X.focus({preventScroll:!0})},...v&&{onMouseMove(Q){let{currentTarget:X}=Q;K(X)},onPointerLeave(Q){let{pointerType:X}=Q;!P.current||X==="touch"||(b.current=-1,U(c,b),S(null),w||be(o.floating.current,{preventScroll:!0}))}}}},[n,o,U,v,c,S,w]);return m.useMemo(()=>{if(!p)return{};const K=_.current;function oe(j){if(P.current=!1,D.current=!0,!B.current&&j.currentTarget===o.floating.current)return;if(g&&Dn(j.key,R,h)){te(j),r(!1,j.nativeEvent,"list-navigation"),ne(i)&&!w&&i.focus();return}const ae=b.current,pe=St(c,K),Re=bn(c,K);if(j.key==="Home"&&(te(j),b.current=pe,S(b.current)),j.key==="End"&&(te(j),b.current=Re,S(b.current)),C>1){const Me=L||Array.from({length:c.current.length},()=>({width:1,height:1})),Ee=ci(Me,C,O),ct=Ee.findIndex(me=>me!=null&&!(K!=null&&K.includes(me))),lt=Ee.reduce((me,Xe,ge)=>Xe!=null&&!(K!=null&&K.includes(Xe))?ge:me,-1);if(b.current=Ee[si({current:Ee.map(me=>me!=null?c.current[me]:null)},{event:j,orientation:R,loop:a,cols:C,disabledIndices:ui([...K||[],void 0],Ee),minIndex:ct,maxIndex:lt,prevIndex:li(b.current,Me,Ee,C,j.key===it?"bl":j.key===Ue?"tr":"tl"),stopEvent:!0})],S(b.current),R==="both")return}if(Fn(j.key,R)){if(te(j),n&&!w&&he(j.currentTarget.ownerDocument)===j.currentTarget){b.current=Ft(j.key,R,h)?pe:Re,S(b.current);return}Ft(j.key,R,h)?a?b.current=ae>=Re?d&&ae!==c.current.length?-1:pe:re(c,{startingIndex:ae,disabledIndices:K}):b.current=Math.min(Re,re(c,{startingIndex:ae,disabledIndices:K})):a?b.current=ae<=pe?d&&ae!==-1?c.current.length:Re:re(c,{startingIndex:ae,decrement:!0,disabledIndices:K}):b.current=Math.max(pe,re(c,{startingIndex:ae,decrement:!0,disabledIndices:K})),Ge(c,b.current)?S(null):S(b.current)}}function Q(j){y==="auto"&&ir(j.nativeEvent)&&(x.current=!0)}function X(j){x.current=y,y==="auto"&&Zt(j.nativeEvent)&&(x.current=!0)}const we=w&&n&&ce&&{"aria-activedescendant":J||z},ke=c.current.find(j=>(j==null?void 0:j.id)===z);return{reference:{...we,onKeyDown(j){P.current=!1;const ae=j.key.indexOf("Arrow")===0,pe=Mi(j.key,R,h),Re=Dn(j.key,R,h),Me=Fn(j.key,R),Ee=(g?pe:Me)||j.key==="Enter"||j.key.trim()==="";if(w&&n){const Xe=k==null?void 0:k.nodesRef.current.find(ut=>ut.parentId==null),ge=k&&Xe?vi(k.nodesRef.current,Xe.id):null;if(ae&&ge&&F){const ut=new KeyboardEvent("keydown",{key:j.key,bubbles:!0});if(pe||Re){var ct,lt;const xr=((ct=ge.context)==null?void 0:ct.elements.domReference)===j.currentTarget,sn=Re&&!xr?(lt=ge.context)==null?void 0:lt.elements.domReference:pe?ke:null;sn&&(te(j),sn.dispatchEvent(ut),Y(void 0))}if(Me&&ge.context&&ge.context.open&&ge.parentId&&j.currentTarget!==ge.context.elements.domReference){var me;te(j),(me=ge.context.elements.domReference)==null||me.dispatchEvent(ut);return}}return oe(j)}if(!(!n&&!T&&ae)){if(Ee&&(A.current=g&&Me?null:j.key),g){pe&&(te(j),n?(b.current=St(c,K),S(b.current)):r(!0,j.nativeEvent,"list-navigation"));return}Me&&(f!=null&&(b.current=f),te(j),!n&&T?r(!0,j.nativeEvent,"list-navigation"):oe(j),n&&S(b.current))}},onFocus(){n&&S(null)},onPointerDown:X,onMouseDown:Q,onClick:Q},floating:{"aria-orientation":R==="both"?void 0:R,...!cr(i)&&we,onKeyDown:oe,onPointerMove(){P.current=!0}},item:de}},[i,o,z,J,_,B,c,p,R,h,w,n,ce,g,f,T,d,C,a,y,S,r,de,k,F,L,O])}const Li=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Fi(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=Li.get(s))!=null?n:s,l=Et(),p=Ct()!=null;return m.useMemo(()=>{if(!i)return{};const f={id:o,...c&&{role:c}};return c==="tooltip"||s==="label"?{reference:{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0},floating:f}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:l},...c==="menu"&&p&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},floating:{...f,...c==="menu"&&{"aria-labelledby":l}},item(d){let{active:a,selected:g}=d;const h={role:"option",...a&&{id:o+"-option"}};switch(s){case"select":return{...h,"aria-selected":a&&g};case"combobox":return{...h,...a&&{"aria-selected":!0}}}return{}}}},[i,s,c,r,o,l,p])}function os(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:l,enabled:u=!0,findMatch:p=null,resetMs:f=750,ignoreKeys:d=[],selectedIndex:a=null}=t,g=m.useRef(),h=m.useRef(""),w=m.useRef((n=a??s)!=null?n:-1),y=m.useRef(null),v=fe(c),T=fe(l),E=ve(p),R=ve(d);return G(()=>{r&&(clearTimeout(g.current),y.current=null,h.current="")},[r]),G(()=>{if(r&&h.current===""){var C;w.current=(C=a??s)!=null?C:-1}},[r,a,s]),m.useMemo(()=>{if(!u)return{};function C(L){L?o.current.typing||(o.current.typing=L,T(L)):o.current.typing&&(o.current.typing=L,T(L))}function M(L,O,V){const k=E.current?E.current(O,V):O.find(S=>(S==null?void 0:S.toLocaleLowerCase().indexOf(V.toLocaleLowerCase()))===0);return k?L.indexOf(k):-1}function F(L){const O=i.current;if(h.current.length>0&&h.current[0]!==" "&&(M(O,O,h.current)===-1?C(!1):L.key===" "&&te(L)),O==null||R.current.includes(L.key)||L.key.length!==1||L.ctrlKey||L.metaKey||L.altKey)return;r&&L.key!==" "&&(te(L),C(!0)),O.every(x=>{var b,A;return x?((b=x[0])==null?void 0:b.toLocaleLowerCase())!==((A=x[1])==null?void 0:A.toLocaleLowerCase()):!0})&&h.current===L.key&&(h.current="",w.current=y.current),h.current+=L.key,clearTimeout(g.current),g.current=setTimeout(()=>{h.current="",w.current=y.current,C(!1)},f);const k=w.current,S=M(O,[...O.slice((k||0)+1),...O.slice(0,(k||0)+1)],h.current);S!==-1?(v(S),y.current=S):L.key!==" "&&(h.current="",C(!1))}return{reference:{onKeyDown:F},floating:{onKeyDown:F,onKeyUp(L){L.key===" "&&C(!1)}}}},[u,r,o,i,f,R,E,v,T])}function Nn(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const is=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:c=4,referenceOverflowThreshold:l=0,scrollRef:u,...p}=e,{rects:f,elements:{floating:d}}=t,a=n.current[s];if(!a)return{};const g={...t,...await $n(-a.offsetTop-d.clientTop-f.reference.height/2-a.offsetHeight/2-i).fn(t)},h=(u==null?void 0:u.current)||d,w=await Be(Nn(g,h.scrollHeight),p),y=await Be(g,{...p,elementContext:"reference"}),v=Math.max(0,w.top),T=g.y+v,E=Math.max(0,h.scrollHeight-v-Math.max(0,w.bottom));return h.style.maxHeight=E+"px",h.scrollTop=v,o&&(h.offsetHeight<a.offsetHeight*Math.min(c,n.current.length-1)-1||y.top>=-l||y.bottom>=-l?Ke.flushSync(()=>o(!0)):Ke.flushSync(()=>o(!1))),r&&(r.current=await Be(Nn({...g,y:T},h.offsetHeight),p)),{y:T}}});function ss(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:c}=t,l=fe(c),u=m.useRef(!1),p=m.useRef(null),f=m.useRef(null);return m.useEffect(()=>{if(!o)return;function d(g){if(g.ctrlKey||!a||i.current==null)return;const h=g.deltaY,w=i.current.top>=-.5,y=i.current.bottom>=-.5,v=a.scrollHeight-a.clientHeight,T=h<0?-1:1,E=h<0?"max":"min";a.scrollHeight<=a.clientHeight||(!w&&h>0||!y&&h<0?(g.preventDefault(),Ke.flushSync(()=>{l(R=>R+Math[E](h,v*T))})):/firefox/i.test(Gt())&&(a.scrollTop+=h))}const a=(s==null?void 0:s.current)||r.floating;if(n&&a)return a.addEventListener("wheel",d),requestAnimationFrame(()=>{p.current=a.scrollTop,i.current!=null&&(f.current={...i.current})}),()=>{p.current=null,f.current=null,a.removeEventListener("wheel",d)}},[o,n,r.floating,i,s,l]),m.useMemo(()=>o?{floating:{onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const d=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!d||!u.current)){if(p.current!==null){const a=d.scrollTop-p.current;(i.current.bottom<-.5&&a<-1||i.current.top<-.5&&a>1)&&Ke.flushSync(()=>l(g=>g+a))}requestAnimationFrame(()=>{p.current=d.scrollTop})}}}}:{},[o,i,r.floating,s,l])}function _n(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[l,u]=t[s]||[0,0],[p,f]=t[c]||[0,0];u>=r!=f>=r&&n<=(p-l)*(r-u)/(f-u)+l&&(o=!o)}return o}function Di(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Ni(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,l=performance.now();function u(f,d){const a=performance.now(),g=a-l;if(s===null||c===null||g===0)return s=f,c=d,l=a,null;const h=f-s,w=d-c,v=Math.sqrt(h*h+w*w)/g;return s=f,c=d,l=a,v}const p=f=>{let{x:d,y:a,placement:g,elements:h,onClose:w,nodeId:y,tree:v}=f;return function(E){function R(){clearTimeout(o),w()}if(clearTimeout(o),!h.domReference||!h.floating||g==null||d==null||a==null)return;const{clientX:C,clientY:M}=E,F=[C,M],L=Ce(E),O=E.type==="mouseleave",V=ee(h.floating,L),k=ee(h.domReference,L),S=h.domReference.getBoundingClientRect(),x=h.floating.getBoundingClientRect(),b=g.split("-")[0],A=d>x.right-x.width/2,P=a>x.bottom-x.height/2,I=Di(F,S),W=x.width>S.width,D=x.height>S.height,N=(W?S:x).left,_=(W?S:x).right,B=(D?S:x).top,$=(D?S:x).bottom;if(V&&(i=!0,!O))return;if(k&&(i=!1),k&&!O){i=!0;return}if(O&&q(E.relatedTarget)&&ee(h.floating,E.relatedTarget)||v&&Fe(v.nodesRef.current,y).some(J=>{let{context:Y}=J;return Y==null?void 0:Y.open}))return;if(b==="top"&&a>=S.bottom-1||b==="bottom"&&a<=S.top+1||b==="left"&&d>=S.right-1||b==="right"&&d<=S.left+1)return R();let z=[];switch(b){case"top":z=[[N,S.top+1],[N,x.bottom-1],[_,x.bottom-1],[_,S.top+1]];break;case"bottom":z=[[N,x.top+1],[N,S.bottom-1],[_,S.bottom-1],[_,x.top+1]];break;case"left":z=[[x.right-1,$],[x.right-1,B],[S.left+1,B],[S.left+1,$]];break;case"right":z=[[S.right-1,$],[S.right-1,B],[x.left+1,B],[x.left+1,$]];break}function Z(J){let[Y,U]=J;switch(b){case"top":{const ce=[W?Y+t/2:A?Y+t*4:Y-t*4,U+t+1],de=[W?Y-t/2:A?Y+t*4:Y-t*4,U+t+1],K=[[x.left,A||W?x.bottom-t:x.top],[x.right,A?W?x.bottom-t:x.top:x.bottom-t]];return[ce,de,...K]}case"bottom":{const ce=[W?Y+t/2:A?Y+t*4:Y-t*4,U-t],de=[W?Y-t/2:A?Y+t*4:Y-t*4,U-t],K=[[x.left,A||W?x.top+t:x.bottom],[x.right,A?W?x.top+t:x.bottom:x.top+t]];return[ce,de,...K]}case"left":{const ce=[Y+t+1,D?U+t/2:P?U+t*4:U-t*4],de=[Y+t+1,D?U-t/2:P?U+t*4:U-t*4];return[...[[P||D?x.right-t:x.left,x.top],[P?D?x.right-t:x.left:x.right-t,x.bottom]],ce,de]}case"right":{const ce=[Y-t,D?U+t/2:P?U+t*4:U-t*4],de=[Y-t,D?U-t/2:P?U+t*4:U-t*4],K=[[P||D?x.left+t:x.right,x.top],[P?D?x.left+t:x.right:x.left+t,x.bottom]];return[ce,de,...K]}}}if(!_n([C,M],z)){if(i&&!I)return R();if(!O&&r){const J=u(E.clientX,E.clientY);if(J!==null&&J<.1)return R()}_n([C,M],Z([d,a]))?!i&&r&&(o=window.setTimeout(R,40)):R()}}};return p.__options={blockPointerEvents:n},p}const _i=({open:e,setOpen:t,disable:n,disableFocus:r,hoverable:o})=>m.useCallback(i=>{const s=Ai({...i,open:e,onOpenChange:(u,p)=>{const f=(p==null?void 0:p.type)==="mousemove"||(p==null?void 0:p.type)==="mouseenter"||(p==null?void 0:p.type)==="mouseleave"?"hover":"press";t(u,f)}}),{getReferenceProps:c,getFloatingProps:l}=ki([o?Rn(s.context,{enabled:!n&&o,handleClose:Ni({requireIntent:!0,blockPointerEvents:!0,buffer:1}),...o&&typeof o=="object"&&o}):Rn(s.context,{enabled:!1}),Oi(s.context,{enabled:!n&&!r,visibleOnly:!0}),Fi(s.context,{role:"dialog"}),Ii(s.context,{enabled:!n})]);return{...s,open:e,getReferenceProps:c,getFloatingProps:l}},[e,t,n,r,o]),Ae="PopoverScope",br=jn({}),Oe=br.useStyledContext,Vi=m.forwardRef(function(e,t){const{__scopePopover:n,...r}=e,o=Oe(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:s}=o||{};return m.useEffect(()=>(i(),()=>s()),[i,s]),H.jsx(Vt,{__scopePopper:n||Ae,...r,ref:t})}),ji=m.forwardRef(function(e,t){const{__scopePopover:n,...r}=e,o=Oe(n),i=o.anchorTo,s=tt(t,o.triggerRef);if(i){let l={current:{getBoundingClientRect:()=>DOMRect.fromRect(i),...!$r}};return H.jsx(Vt,{virtualRef:l,__scopePopper:n||Ae})}if(!e.children)return null;const c=H.jsx(Wn,{"aria-haspopup":"dialog","aria-expanded":o.open,"data-state":yr(o.open),...r,ref:s,onPress:We(e.onPress,o.onOpenToggle)});return o.hasCustomAnchor?c:H.jsx(Vt,{__scopePopper:n||Ae,asChild:!0,children:c})}),Wi=or.extractable(m.forwardRef(function(e,t){const{allowPinchZoom:n,trapFocus:r,disableRemoveScroll:o=!0,zIndex:i,__scopePopover:s,...c}=e,l=Oe(s),u=m.useRef(null),p=tt(t,u),f=m.useRef(!1);return m.useEffect(()=>{if(!l.open)return;const d=u.current;if(d)return kr(d)},[l.open]),H.jsx(Bi,{__scopePopover:s,zIndex:e.zIndex,children:H.jsx(Bn,{pointerEvents:l.open?"auto":"none",children:H.jsx(Hi,{...c,disableRemoveScroll:o,ref:p,__scopePopover:s,trapFocus:r??l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,d=>{var a;d.preventDefault(),f.current||((a=l.triggerRef.current)==null||a.focus())}),onPointerDownOutside:We(e.onPointerDownOutside,d=>{const a=d.detail.originalEvent,g=a.button===0&&a.ctrlKey===!0,h=a.button===2||g;f.current=h},{checkDefaultPrevented:!1}),onFocusOutside:We(e.onFocusOutside,d=>d.preventDefault(),{checkDefaultPrevented:!1})})})})}));function Bi(e){const{__scopePopover:t}=e,n=e.zIndex??15e4,r=Oe(t);ot(t||Ae);const o=Mr();let i=e.children;return H.jsx(wr,{zIndex:n,children:H.jsxs(Kr,{forceClassName:!0,name:o,children:[!!r.open&&!r.breakpointActive&&H.jsx(et,{fullscreen:!0,onPress:We(e.onPress,r.onOpenToggle)}),i]})})}const Hi=m.forwardRef(function(e,t){const{trapFocus:n,__scopePopover:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:s,disableFocusScope:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:f,children:d,disableRemoveScroll:a,freezeContentsWhenHidden:g,...h}=e,w=Oe(r),{open:y,keepChildrenMounted:v}=w;ot(r||Ae);const[T,E]=m.useState(!w.open),R=m.useMemo(()=>H.jsx("div",{style:{display:"contents"},children:d}),[d]);if(y&&T&&E(!1),!v&&T)return null;if(w.breakpointActive){let M=m.Children.toArray(d).map(F=>m.isValidElement(F)&&F.type===Vn?F.props.children:F);return M=H.jsx(cn,{children:M}),H.jsx(Rr,{hostName:`${w.id}PopoverContents`,children:M})}return H.jsx(Yr,{type:"presence",present:!!y,keepChildrenMounted:v,onExitComplete:()=>{E(!0)},children:H.jsx(Lo,{__scopePopper:r||Ae,"data-state":yr(y),id:w.contentId,ref:t,...h,children:H.jsx(Lr,{enabled:a?!1:y,allowPinchZoom:!0,removeScrollBar:!1,style:{display:"contents"},children:H.jsx(cn,{children:H.jsx(Fr,{loop:!0,enabled:c?!1:y,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:R})})})},w.contentId)})}),Ki=m.forwardRef(function(e,t){const{__scopePopover:n,...r}=e,o=Oe(n);return H.jsx(et,{...r,ref:t,componentName:"PopoverClose",onPress:We(e.onPress,()=>o.onOpenChange(!1,"press"))})}),zi=gn.styleable(function(e,t){const{__scopePopover:n,...r}=e,o=Oe(n);return on(o.sheetBreakpoint)?null:H.jsx(gn,{__scopePopper:n||Ae,componentName:"PopoverArrow",...r,ref:t})}),cs=Dr(m.forwardRef((e,t)=>{const{children:n,open:r,defaultOpen:o,onOpenChange:i,__scopePopover:s,keepChildrenMounted:c,hoverable:l,disableFocus:u,...p}=e,f=m.useId(),{when:d,AdaptProvider:a}=Vr({Contents:m.useCallback(()=>H.jsx(Er,{name:`${f}PopoverContents`}),[])}),g=d,h=m.useRef(null),[w,y]=m.useState(!1),v=m.useRef(),[T,E]=jr({prop:r,defaultProp:o||!1,onChange:V=>{i==null||i(V,v.current)}}),R=on(g),C=_i({open:T,setOpen:(V,k)=>{v.current=k,E(V)},disable:R,hoverable:l,disableFocus:u}),[M,F]=m.useState();m.useImperativeHandle(t,()=>({anchorTo:F}));const L={id:f,sheetBreakpoint:g,contentId:m.useId(),triggerRef:h,open:T,breakpointActive:R,onOpenChange:(V,k)=>{v.current=k,E(V)},onOpenToggle:Cr(()=>{T&&R||E(!T)}),hasCustomAnchor:w,anchorTo:M,onCustomAnchorAdd:m.useCallback(()=>y(!0),[]),onCustomAnchorRemove:m.useCallback(()=>y(!1),[]),keepChildrenMounted:c},O=H.jsx(Mo,{__scopePopper:s||Ae,stayInFrame:!0,...p,children:H.jsx(br.Provider,{scope:s,...L,children:H.jsx($i,{onOpenChange:E,children:n})})});return H.jsx(a,{children:H.jsx(rr.Provider,{value:C,children:O})})}),{Anchor:Vi,Arrow:zi,Trigger:ji,Content:Wi,Close:Ki,Adapt:Nr,ScrollView:Vn,Sheet:_r.Controlled});function yr(e){return e?"open":"closed"}const $i=({__scopePopover:e,...t})=>{const n=Oe(e),r=Yi(n),o=n.breakpointActive,i=Pr(r);return H.jsx(Wr,{onOpenChange:s=>{i()&&t.onOpenChange(s)},open:n.open,hidden:o===!1,children:t.children})},on=e=>{const t=zr();return typeof e=="boolean"||!e?!!e:t[e]},Yi=e=>{const t=on(e.sheetBreakpoint);return e.open===!1?!1:t};export{Qi as F,cs as P,ts as a,ns as b,Ii as c,Fi as d,ss as e,rs as f,os as g,ki as h,is as i,Po as j,To as k,Co as l,es as m,$n as o,Ji as s,Ai as u};

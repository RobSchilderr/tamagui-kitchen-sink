import{j as e,S as I,X as h,l as E}from"./Stacks-0gbGCfo_.js";import{b as H}from"./index.esm-SaFMQc_X.js";import{u as k,L as V}from"./DatepickerProvider-G2skHnzK.js";import{N as X,d as Y,P as T,Y as z}from"./index.esm-HDFLGYcx.js";import{r as S}from"./index-4g5l5LRQ.js";import"./index-U7_1MBcJ.js";import{B as x}from"./index-LvVOA0P4.js";import"./GorhomPortal-iqDikvYy.js";import{b as G,a as W,X as v,I as J}from"./usePopoverState-tTqBLx82.js";import{k as K,l as Q,m as U,n as Z,A as _,o as ee,p as te}from"./LmGrid-eqtElkhI.js";import{a as w}from"./dateHelper-pqTkKOmM.js";import{a as re}from"./LmAutocomplete-dW-1vfSQ.js";import{S as F,e as se,c as oe}from"./Headings-cv8zjVaZ.js";import{P as ae}from"./EventEmitter-8bYFdwfg.js";import{f as ne}from"./index-CImlS_Zq.js";const ie=(u,r,a,s)=>({selectedFirstOrLastColor:l,normalColor:n,selectedColor:t,rangeHoverColor:o,disabledColor:c})=>r?l:u?t:a?o:s?c:n;function le({dayLabel:u,date:r}){const a=S.useRef(null),s=k(),{isSelected:l,isSelectedStartOrEnd:n,isWithinHoverRange:t,disabledDate:o,onClick:c,onMouseEnter:f}=X({date:r,dayRef:a,...s});if(!u)return e.jsx(I,{display:"flex",flex:1});const i=ie(l,n,t,o);return e.jsx(F,{ref:a,onPress:c,onHoverIn:f,disabled:o,width:`${100/7}%`,textAlign:"center",paddingVertical:"$2",cursor:"pointer",backgroundColor:i({selectedFirstOrLastColor:"$blue7",normalColor:"$background",selectedColor:"$blue5",rangeHoverColor:"$blue6",disabledColor:"#FFFFFF"}),children:u})}function ce({onPrevious:u,onNext:r,monthsCount:a,isFirst:s,isLast:l,...n}){const{days:t,weekdayLabels:o,monthLabel:c}=Y({...n,monthLabelFormat(d){return new Intl.DateTimeFormat(void 0,{month:"long"}).format(d)}}),{goToPreviousYear:f,goToPreviousMonths:i,goToPreviousMonthsByOneMonth:p,goToNextMonthsByOneMonth:D,goToNextMonths:j,goToNextYear:g}=k(),{year:C}=n;return e.jsxs(I,{width:250,children:[e.jsxs(h,{space:"$2",justifyContent:"center",alignItems:"center",children:[e.jsx(x,{size:"$2",chromeless:!0,focusable:!1,circular:!0,onPress:()=>f(10),icon:e.jsx(K,{})}),e.jsx(x,{size:"$2",chromeless:!0,circular:!0,focusable:!1,onPress:()=>f(1),icon:e.jsx(Q,{})}),e.jsx(se,{children:C}),e.jsx(x,{size:"$2",chromeless:!0,focusable:!1,onPress:()=>g(1),icon:e.jsx(U,{}),circular:!0}),e.jsx(x,{size:"$2",chromeless:!0,circular:!0,focusable:!1,onPress:()=>g(10),icon:e.jsx(Z,{})})]}),e.jsxs(h,{justifyContent:"space-between",alignItems:"center",height:40,children:[e.jsx(x,{focusable:!1,opacity:s?void 0:0,disabled:!s,onPress:a>1?i:p,icon:e.jsx(_,{}),circular:!0,chromeless:!0}),e.jsx(oe,{children:c}),e.jsx(x,{focusable:!1,opacity:l?void 0:0,disabled:!l,onPress:a>1?j:D,icon:e.jsx(ee,{}),circular:!0,chromeless:!0})]}),e.jsx(h,{flex:7,width:250,children:o.map(d=>e.jsx(F,{width:`${100/7}%`,textAlign:"center",paddingVertical:"$2",children:d},d))}),e.jsx(h,{display:"flex",flexWrap:"wrap",width:250,children:t.map((d,y)=>typeof d=="object"?e.jsx(le,{dayLabel:d.dayLabel,date:d.date},d.date.toString()):e.jsx(I,{width:`${100/7}%`},y))}),e.jsx(h,{display:"flex"})]})}function ue({activeMonths:u,monthsCount:r,firstDayOfWeek:a,labelFunctions:s,buttonProps:l,size:n,...t}){return e.jsx(G,{isBouncy:!0,...t,contentProps:{padding:"$4",elevation:"$5",...t==null?void 0:t.contentProps},trigger:e.jsx(x,{icon:e.jsx(te,{}),borderTopLeftRadius:0,borderBottomLeftRadius:0,size:n,...l}),children:e.jsx(h,{space:!0,alignItems:"flex-start",children:u.map((o,c)=>e.jsx(ce,{year:o.year,month:o.month,monthsCount:r,firstDayOfWeek:a,isFirst:r===0||c===0,isLast:r===0||c===r-1,...s},`${o.year}-${o.month}`))})})}function de({numberOfMonths:u,isRangePicker:r,onChange:a,labelFunctions:s,startDate:l=null,endDate:n=null,required:t,error:o,helperText:c,helperTextProps:f,label:i,labelProps:p,labelInline:D,fullWidth:j,inputProps:g,buttonProps:C,popoverProps:d,containerProps:y,size:$}){const M=S.useId(),O=E(),L=W(!1),[m,R]=S.useState({startDate:l,endDate:n,focusedInput:T}),P=r?O.xs?1:u??2:1,{activeMonths:B,firstDayOfWeek:N,...q}=z({startDate:m.startDate,endDate:m.endDate,focusedInput:m.focusedInput,onDatesChange:b=>{b.focusedInput?R(b):R({...b,focusedInput:T}),typeof a=="function"&&a(b),r||L.onOpenChange(!1)},numberOfMonths:P,...!r&&{minBookingDays:1,exactMinBookingDays:!0}}),A=r?`${w({date:m.startDate})}${m.endDate?" - "+w({date:m.endDate}):""}`:w({date:m.startDate});return e.jsx(V,{...q,children:e.jsx(re,{id:M,error:o,required:t,labelProps:p,label:i,labelInline:D,helperText:c,helperTextProps:f,fullWidth:j,size:$,...y,children:e.jsx(h,{space:!0,...j?{flexGrow:1}:{width:ae.OS==="web"?"100%":void 0},children:e.jsxs(v,{flexGrow:j?1:void 0,alignItems:"center",flexDirection:"row",children:[e.jsx(v.Item,{children:e.jsx(J,{width:"100%",minWidth:r?"$16":void 0,value:A,onPressIn:()=>L.onOpenChange(!0),size:$,...g})}),e.jsx(v.Item,{children:e.jsx(ue,{activeMonths:B,monthsCount:P,firstDayOfWeek:N,labelFunctions:s,buttonProps:C,size:$,...L,...d})})]})})})})}function Ie({name:u,defaultValue:r,control:a,rules:s={},required:l,...n}){var f;l&&(s.required=s.required??"This field is required");const t=H({name:u,control:a,rules:s,defaultValue:r});let o=!!t.fieldState.error;const c=i=>i?typeof i=="string"?new Date(i):i:null;return e.jsx(de,{...n,startDate:t.field.value?c(t.field.value):null,isRangePicker:!1,required:!!(s!=null&&s.required),onChange:i=>{const p=i.startDate?ne(i.startDate,{representation:"date"}):"";t.field.onChange(p)},helperText:o?(f=t.fieldState.error)==null?void 0:f.message:n.helperText,error:o})}export{de as L,Ie as a};

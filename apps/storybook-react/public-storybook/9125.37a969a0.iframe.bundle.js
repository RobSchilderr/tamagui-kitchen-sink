"use strict";(self.webpackChunksb_react=self.webpackChunksb_react||[]).push([[9125],{"../../packages/app/src/stories/core/panels/LmAlertDialog.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,ControlledState:()=>ControlledState,default:()=>LmAlertDialog_stories});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),defineProperty=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../../node_modules/react/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),compose_refs=__webpack_require__("../../node_modules/@tamagui/compose-refs/dist/esm/compose-refs.js"),styled=__webpack_require__("../../node_modules/@tamagui/web/dist/esm/styled.js"),esm=__webpack_require__("../../node_modules/@tamagui/web/dist/esm/index.js"),dist_esm=__webpack_require__("../../node_modules/@tamagui/constants/dist/esm/index.js"),Slot=__webpack_require__("../../node_modules/@tamagui/web/dist/esm/views/Slot.js"),withStaticProperties=__webpack_require__("../../node_modules/@tamagui/web/dist/esm/helpers/withStaticProperties.js"),create_context=__webpack_require__("../../node_modules/@tamagui/create-context/dist/esm/create-context.js"),Dialog=__webpack_require__("../../node_modules/@tamagui/dialog/dist/esm/Dialog.js"),Stacks=__webpack_require__("../../node_modules/@tamagui/stacks/dist/esm/Stacks.js");const[createAlertDialogContext,createAlertDialogScope]=(0,create_context.b)("AlertDialog",[Dialog.p8]),useDialogScope=(0,Dialog.p8)(),NativeAlertDialogTriggerFrame=(0,styled.z)(Stacks.FA,{name:"DialogTrigger"}),AlertDialogTrigger=react.forwardRef(((props,forwardedRef)=>{if(props.__native){const{__native,onPress,__onPress,...rest}=props;return(0,jsx_runtime.jsx)(NativeAlertDialogTriggerFrame,{...rest,onPress:(0,esm.composeEventHandlers)(onPress,__onPress)})}const{__scopeAlertDialog,...triggerProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return(0,jsx_runtime.jsx)(Dialog.hg,{...dialogScope,...triggerProps,ref:forwardedRef})}));AlertDialogTrigger.displayName="AlertDialogTrigger";const AlertDialogPortal=props=>{const{__scopeAlertDialog,...portalProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return(0,jsx_runtime.jsx)(Dialog.PK,{...dialogScope,...portalProps})};AlertDialogPortal.displayName="AlertDialogPortal";const AlertDialogOverlay=(0,styled.z)(Dialog.qF,{name:"AlertDialogOverlay"}).extractable(react.forwardRef(((props,forwardedRef)=>{const{__scopeAlertDialog,...overlayProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return(0,jsx_runtime.jsx)(Dialog.t9,{...dialogScope,...overlayProps,ref:forwardedRef})})));AlertDialogOverlay.displayName="AlertDialogOverlay";const[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext("AlertDialogContent"),AlertDialogContent=react.forwardRef(((props,forwardedRef)=>{const{__scopeAlertDialog,children,...contentProps}=props,dialogScope=useDialogScope(__scopeAlertDialog),contentRef=react.useRef(null),composedRefs=(0,compose_refs.e)(forwardedRef,contentRef),cancelRef=react.useRef(null);return(0,jsx_runtime.jsx)(Dialog.Rr,{contentName:"AlertDialogContent",titleName:TITLE_NAME,docsSlug:"alert-dialog",children:(0,jsx_runtime.jsx)(AlertDialogContentProvider,{scope:__scopeAlertDialog,cancelRef,children:(0,jsx_runtime.jsxs)(Dialog.cZ,{role:"alertdialog",...dialogScope,...contentProps,ref:composedRefs,onOpenAutoFocus:(0,esm.composeEventHandlers)(contentProps.onOpenAutoFocus,(event=>{var _a;event.preventDefault(),dist_esm.$L&&(null==(_a=cancelRef.current)||_a.focus({preventScroll:!0}))})),onPointerDownOutside:event=>event.preventDefault(),onInteractOutside:event=>event.preventDefault(),children:[(0,jsx_runtime.jsx)(Slot.A4,{children}),!1]})})})}));AlertDialogContent.displayName="AlertDialogContent";const TITLE_NAME="AlertDialogTitle",AlertDialogTitle=react.forwardRef(((props,forwardedRef)=>{const{__scopeAlertDialog,...titleProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return(0,jsx_runtime.jsx)(Dialog.$N,{...dialogScope,...titleProps,ref:forwardedRef})}));AlertDialogTitle.displayName=TITLE_NAME;const AlertDialogDescription=react.forwardRef(((props,forwardedRef)=>{const{__scopeAlertDialog,...descriptionProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return(0,jsx_runtime.jsx)(Dialog.Be,{...dialogScope,...descriptionProps,ref:forwardedRef})}));AlertDialogDescription.displayName="AlertDialogDescription";const AlertDialogAction=react.forwardRef(((props,forwardedRef)=>{const{__scopeAlertDialog,...actionProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return(0,jsx_runtime.jsx)(Dialog.GG,{...dialogScope,...actionProps,ref:forwardedRef})}));AlertDialogAction.displayName="AlertDialogAction";const AlertDialogCancel=react.forwardRef(((props,forwardedRef)=>{const{__scopeAlertDialog,...cancelProps}=props,{cancelRef}=useAlertDialogContentContext("AlertDialogCancel",__scopeAlertDialog),dialogScope=useDialogScope(__scopeAlertDialog),ref=(0,compose_refs.e)(forwardedRef,cancelRef);return(0,jsx_runtime.jsx)(Dialog.GG,{...dialogScope,...cancelProps,ref})}));AlertDialogCancel.displayName="AlertDialogCancel";const AlertDialog=(0,withStaticProperties.$)((props=>{const{__scopeAlertDialog,native,...alertDialogProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return(0,jsx_runtime.jsx)(Dialog.Vq,{...dialogScope,...alertDialogProps,modal:!0})}),{Trigger:AlertDialogTrigger,Portal:AlertDialogPortal,Overlay:AlertDialogOverlay,Content:AlertDialogContent,Action:AlertDialogAction,Cancel:AlertDialogCancel,Title:AlertDialogTitle,Description:AlertDialogDescription});AlertDialog.displayName="AlertDialog";var _excluded=["trigger","cancelButton","actionButton","actionStackProps","titleProps","descriptionProps","title","description","contentStackProps","dialogContentProps"],__jsx=react.createElement;function LmAlertDialog(_ref){var trigger=_ref.trigger,cancelButton=_ref.cancelButton,actionButton=_ref.actionButton,actionStackProps=_ref.actionStackProps,titleProps=_ref.titleProps,descriptionProps=_ref.descriptionProps,title=_ref.title,description=_ref.description,contentStackProps=_ref.contentStackProps,dialogContentProps=_ref.dialogContentProps,dialogProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return __jsx(AlertDialog,(0,esm_extends.Z)({native:!0},dialogProps),trigger&&__jsx(AlertDialog.Trigger,{asChild:!0},trigger),__jsx(AlertDialog.Portal,null,__jsx(AlertDialog.Overlay,{key:"overlay",animation:"quick",opacity:.5,enterStyle:{opacity:0},exitStyle:{opacity:0}}),__jsx(AlertDialog.Content,(0,esm_extends.Z)({bordered:!0,elevate:!0,key:"content",animation:["quick",{opacity:{overshootClamping:!0}}],enterStyle:{x:0,y:-20,opacity:0,scale:.9},exitStyle:{x:0,y:10,opacity:0,scale:.95},x:0,scale:1,opacity:1,y:0},dialogContentProps),__jsx(Stacks.FA,(0,esm_extends.Z)({space:!0},contentStackProps),__jsx(AlertDialog.Title,titleProps,title),__jsx(AlertDialog.Description,descriptionProps,description),__jsx(Stacks.sL,(0,esm_extends.Z)({space:"$3",justifyContent:"flex-end"},actionStackProps),cancelButton&&__jsx(AlertDialog.Cancel,{asChild:!0},cancelButton),actionButton&&__jsx(AlertDialog.Action,{asChild:!0},actionButton))))))}LmAlertDialog.displayName="LmAlertDialog",LmAlertDialog.__docgenInfo={description:"",methods:[],displayName:"LmAlertDialog",props:{dialogContentProps:{required:!1,tsType:{name:"AlertDialogContentProps"},description:""},trigger:{required:!1,tsType:{name:"ReactNode"},description:""},cancelButton:{required:!1,tsType:{name:"ReactNode"},description:""},actionButton:{required:!1,tsType:{name:"ReactNode"},description:""},contentStackProps:{required:!1,tsType:{name:"XStackProps"},description:""},actionStackProps:{required:!1,tsType:{name:"XStackProps"},description:""},title:{required:!0,tsType:{name:"string"},description:""},titleProps:{required:!1,tsType:{name:"HeadingProps"},description:""},description:{required:!0,tsType:{name:"string"},description:""},descriptionProps:{required:!1,tsType:{name:"ParagraphProps"},description:""}}};try{LmAlertDialog.displayName="LmAlertDialog",LmAlertDialog.__docgenInfo={description:"",displayName:"LmAlertDialog",props:{native:{defaultValue:null,description:"",name:"native",required:!1,type:{name:"boolean"}},dialogContentProps:{defaultValue:null,description:"",name:"dialogContentProps",required:!1,type:{name:"AlertDialogContentProps"}},trigger:{defaultValue:null,description:"",name:"trigger",required:!1,type:{name:"ReactNode"}},cancelButton:{defaultValue:null,description:"",name:"cancelButton",required:!1,type:{name:"ReactNode"}},actionButton:{defaultValue:null,description:"",name:"actionButton",required:!1,type:{name:"ReactNode"}},contentStackProps:{defaultValue:null,description:"",name:"contentStackProps",required:!1,type:{name:'(Omit<ViewProps, "children" | "display" | "onLayout" | keyof GestureResponderHandlers> & ExtendBaseStackProps & ... 7 more ... & PseudoProps<...>)'}},actionStackProps:{defaultValue:null,description:"",name:"actionStackProps",required:!1,type:{name:'(Omit<ViewProps, "children" | "display" | "onLayout" | keyof GestureResponderHandlers> & ExtendBaseStackProps & ... 7 more ... & PseudoProps<...>)'}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},titleProps:{defaultValue:null,description:"",name:"titleProps",required:!1,type:{name:'(Omit<TextProps, "children" | "onLayout" | keyof GestureResponderHandlers> & ExtendsBaseTextProps & ... 6 more ... & PseudoProps<...>) | (Omit<...> & ... 7 more ... & PseudoProps<...>) | (Omit<...> & ... 7 more ... & PseudoProps<...>) | (Omit<...> & ... 7 more ... & PseudoProps<...>)'}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},descriptionProps:{defaultValue:null,description:"",name:"descriptionProps",required:!1,type:{name:'(Omit<TextProps, "children" | "onLayout" | keyof GestureResponderHandlers> & ExtendsBaseTextProps & ... 6 more ... & PseudoProps<...>) | (Omit<...> & ... 7 more ... & PseudoProps<...>)'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/core/src/core/panels/LmAlertDialog.tsx#LmAlertDialog"]={docgenInfo:LmAlertDialog.__docgenInfo,name:"LmAlertDialog",path:"../../packages/core/src/core/panels/LmAlertDialog.tsx#LmAlertDialog"})}catch(__react_docgen_typescript_loader_error){}var _Basic$parameters,_Basic$parameters2,_Basic$parameters2$do,_ControlledState$para,_ControlledState$para2,_ControlledState$para3,usePopoverState=__webpack_require__("../../packages/core/src/core/hooks/usePopoverState.ts"),Button=__webpack_require__("../../node_modules/@tamagui/button/dist/esm/Button.js"),LmAlertDialog_stories_excluded=["trigger"],LmAlertDialog_stories_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const LmAlertDialog_stories={title:"core/Panels/Alert Dialog",component:LmAlertDialog,argTypes:{trigger:{name:"trigger",type:"string"},actionButton:{name:"actionButton",type:"string"},cancelButton:{name:"cancelButton",type:"string"}}};var Basic={args:{trigger:LmAlertDialog_stories_jsx(Button.zx,null,"Open Alert"),title:"Accept",description:"By pressing yes, you accept our terms and conditions.",actionButton:LmAlertDialog_stories_jsx(Button.zx,{theme:"active"},"Accept"),cancelButton:LmAlertDialog_stories_jsx(Button.zx,null,"Cancel")}},ControlledState={args:_objectSpread({},Basic.args),render:function render(_ref){_ref.trigger;var rest=(0,objectWithoutProperties.Z)(_ref,LmAlertDialog_stories_excluded),dialogState=(0,usePopoverState.v)();return LmAlertDialog_stories_jsx(Stacks.FA,null,LmAlertDialog_stories_jsx(Button.zx,{onPress:function onPress(){return dialogState.onOpenChange(!0)}},"Custom trigger button"),LmAlertDialog_stories_jsx(LmAlertDialog,(0,esm_extends.Z)({},rest,dialogState)))}};Basic.parameters=_objectSpread(_objectSpread({},Basic.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Basic$parameters=Basic.parameters)||void 0===_Basic$parameters?void 0:_Basic$parameters.docs),{},{source:_objectSpread({originalSource:"{\n  args: {\n    trigger: <Button>Open Alert</Button>,\n    title: 'Accept',\n    description: 'By pressing yes, you accept our terms and conditions.',\n    actionButton: <Button theme={'active'}>Accept</Button>,\n    cancelButton: <Button>Cancel</Button>\n  }\n}"},null===(_Basic$parameters2=Basic.parameters)||void 0===_Basic$parameters2||null===(_Basic$parameters2$do=_Basic$parameters2.docs)||void 0===_Basic$parameters2$do?void 0:_Basic$parameters2$do.source)})}),ControlledState.parameters=_objectSpread(_objectSpread({},ControlledState.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_ControlledState$para=ControlledState.parameters)||void 0===_ControlledState$para?void 0:_ControlledState$para.docs),{},{source:_objectSpread({originalSource:"{\n  args: {\n    ...Basic.args\n  },\n  render({\n    trigger,\n    ...rest\n  }) {\n    const dialogState = usePopoverState();\n    return <YStack>\n        <Button onPress={() => dialogState.onOpenChange(true)}>Custom trigger button</Button>\n        <LmAlertDialog {...rest} {...dialogState} />\n      </YStack>;\n  }\n}"},null===(_ControlledState$para2=ControlledState.parameters)||void 0===_ControlledState$para2||null===(_ControlledState$para3=_ControlledState$para2.docs)||void 0===_ControlledState$para3?void 0:_ControlledState$para3.source)})})},"../../packages/core/src/core/hooks/usePopoverState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>usePopoverState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),usePopoverState=function usePopoverState(defaultOpen){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!!defaultOpen);return{open:_useState[0],onOpenChange:_useState[1],defaultOpen:!!defaultOpen}}},"../../node_modules/@tamagui/animate-presence/dist/esm/AnimatePresence.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>AnimatePresence});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),esm=__webpack_require__("../../node_modules/@tamagui/use-force-update/dist/esm/index.js"),dist_esm=__webpack_require__("../../node_modules/@tamagui/use-did-finish-ssr/dist/esm/index.js"),constants_dist_esm=__webpack_require__("../../node_modules/@tamagui/constants/dist/esm/index.js"),react=__webpack_require__("../../node_modules/react/index.js");const LayoutGroupContext=(0,react.createContext)({});var use_presence_dist_esm=__webpack_require__("../../node_modules/@tamagui/use-presence/dist/esm/index.js");const PresenceChild=({children,initial,isPresent,onExitComplete,exitVariant,enterVariant,presenceAffectsLayout})=>{const presenceChildren=react.useMemo(newChildrenMap,[]),id=(0,react.useId)()||"",context=react.useMemo((()=>({id,initial,isPresent,exitVariant,enterVariant,onExitComplete:id2=>{presenceChildren.set(id2,!0);for(const isComplete of presenceChildren.values())if(!isComplete)return;null==onExitComplete||onExitComplete()},register:id2=>(presenceChildren.set(id2,!1),()=>presenceChildren.delete(id2))})),presenceAffectsLayout?void 0:[isPresent,exitVariant,enterVariant]);return react.useMemo((()=>{presenceChildren.forEach(((_,key)=>presenceChildren.set(key,!1)))}),[isPresent]),react.useEffect((()=>{!isPresent&&!presenceChildren.size&&(null==onExitComplete||onExitComplete())}),[isPresent]),(0,jsx_runtime.jsx)(use_presence_dist_esm.Oy.Provider,{value:context,children})};function newChildrenMap(){return new Map}const getChildKey=child=>child.key||"";const AnimatePresence=({children,enterVariant,exitVariant,initial=!0,onExitComplete,exitBeforeEnter,presenceAffectsLayout=!0})=>{let forceRender=(0,esm.N)();const isClientMounted=(0,dist_esm.S)(),forceRenderLayoutGroup=(0,react.useContext)(LayoutGroupContext).forceRender;forceRenderLayoutGroup&&(forceRender=forceRenderLayoutGroup);const isMounted=(0,react.useRef)(!1),filteredChildren=function onlyElements(children){const filtered=[];return react.Children.forEach(children,((child,index)=>{(0,react.isValidElement)(child)&&(child.key?filtered.push(child):filtered.push(react.cloneElement(child,{key:index})))})),filtered}(children);let childrenToRender=filteredChildren;const exiting=new Set,presentChildren=(0,react.useRef)(childrenToRender),allChildren=(0,react.useRef)(new Map).current,isInitialRender=(0,react.useRef)(!0);(0,react.useEffect)((()=>(isMounted.current=!0,()=>{isMounted.current=!1,isInitialRender.current=!0,allChildren.clear(),exiting.clear()})),[]),(0,constants_dist_esm.LI)((()=>{isInitialRender.current=!1,function updateChildLookup(children,allChildren){children.forEach((child=>{const key=getChildKey(child);allChildren.set(key,child)}))}(filteredChildren,allChildren),presentChildren.current=childrenToRender}));if(isInitialRender.current)return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:childrenToRender.map((child=>(0,jsx_runtime.jsx)(PresenceChild,{isPresent:Boolean(!!isClientMounted||isMounted.current),exitVariant,enterVariant,initial:!!initial&&void 0,presenceAffectsLayout,children:child},getChildKey(child))))});childrenToRender=[...childrenToRender];const presentKeys=presentChildren.current.map(getChildKey),targetKeys=filteredChildren.map(getChildKey),numPresent=presentKeys.length;for(let i=0;i<numPresent;i++){const key=presentKeys[i];-1===targetKeys.indexOf(key)&&exiting.add(key)}return exitBeforeEnter&&exiting.size&&(childrenToRender=[]),exiting.forEach((key=>{if(-1!==targetKeys.indexOf(key))return;const child=allChildren.get(key);if(!child)return;const insertionIndex=presentKeys.indexOf(key);childrenToRender.splice(insertionIndex,0,(0,jsx_runtime.jsx)(PresenceChild,{isPresent:!1,onExitComplete:()=>{allChildren.delete(key),exiting.delete(key);const removeIndex=presentChildren.current.findIndex((presentChild=>presentChild.key===key));if(presentChildren.current.splice(removeIndex,1),!exiting.size){if(presentChildren.current=filteredChildren,!1===isMounted.current)return;forceRender(),null==onExitComplete||onExitComplete()}},exitVariant,enterVariant,presenceAffectsLayout,children:child},getChildKey(child)))})),childrenToRender=childrenToRender.map((child=>{const key=child.key;return exiting.has(key)?child:(0,jsx_runtime.jsx)(PresenceChild,{isPresent:!0,exitVariant,enterVariant,presenceAffectsLayout,children:child},getChildKey(child))})),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:exiting.size?childrenToRender:childrenToRender.map((child=>(0,react.cloneElement)(child)))})};AnimatePresence.displayName="AnimatePresence"},"../../node_modules/@tamagui/dismissable/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XA:()=>Dismissable});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js");function useEscapeKeydown(n){const o=function useCallbackRef(r){const t=react.useRef(r);return react.useEffect((()=>{t.current=r})),react.useMemo((()=>(...e)=>{var r;return null===(r=t.current)||void 0===r?void 0:r.call(t,...e)}),[])}(n);react.useEffect((()=>{const e=e=>{"Escape"===e.key&&o(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[o])}var compose_refs=__webpack_require__("../../node_modules/@tamagui/compose-refs/dist/esm/compose-refs.js"),esm=__webpack_require__("../../node_modules/@tamagui/web/dist/esm/index.js"),dist_esm=__webpack_require__("../../node_modules/@tamagui/use-event/dist/esm/index.js"),react_dom=__webpack_require__("../../node_modules/react-dom/index.js");const CONTEXT_UPDATE="dismissable.update";let originalBodyPointerEvents;const DismissableContext=react.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dismissable=react.forwardRef(((props,forwardedRef)=>{const{disableOutsidePointerEvents=!1,forceUnmount,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onInteractOutside,onDismiss,...layerProps}=props,context=react.useContext(DismissableContext),[node,setNode]=react.useState(null),[,force]=react.useState({}),composedRefs=(0,compose_refs.e)(forwardedRef,(node2=>setNode(node2))),layers=Array.from(context.layers),[highestLayerWithOutsidePointerEventsDisabled]=[...context.layersWithOutsidePointerEventsDisabled].slice(-1),highestLayerWithOutsidePointerEventsDisabledIndex=layers.indexOf(highestLayerWithOutsidePointerEventsDisabled),index=node?layers.indexOf(node):-1,isBodyPointerEventsDisabled=context.layersWithOutsidePointerEventsDisabled.size>0,isPointerEventsEnabled=index>=highestLayerWithOutsidePointerEventsDisabledIndex,pointerDownOutside=function usePointerDownOutside(onPointerDownOutside){const handlePointerDownOutside=(0,dist_esm.z)(onPointerDownOutside),isPointerInsideReactTreeRef=react.useRef(!1),handleClickRef=react.useRef((()=>{}));return react.useEffect((()=>{const handlePointerDown=event=>{if(event.target&&!isPointerInsideReactTreeRef.current){let handleAndDispatchPointerDownOutsideEvent2=function(){handleAndDispatchCustomEvent("dismissable.pointerDownOutside",handlePointerDownOutside,eventDetail,{discrete:!0})};const eventDetail={originalEvent:event};"touch"===event.pointerType?(document.removeEventListener("click",handleClickRef.current),handleClickRef.current=handleAndDispatchPointerDownOutsideEvent2,document.addEventListener("click",handleClickRef.current,{once:!0})):handleAndDispatchPointerDownOutsideEvent2()}isPointerInsideReactTreeRef.current=!1},timerId=setTimeout((()=>{document.addEventListener("pointerdown",handlePointerDown)}),0);return()=>{window.clearTimeout(timerId),document.removeEventListener("pointerdown",handlePointerDown),document.removeEventListener("click",handleClickRef.current)}}),[handlePointerDownOutside]),{onPointerDownCapture:()=>{isPointerInsideReactTreeRef.current=!0}}}((event=>{const target=event.target,isPointerDownOnBranch=[...context.branches].some((branch=>branch.contains(target)));isPointerEventsEnabled&&!isPointerDownOnBranch&&(null==onPointerDownOutside||onPointerDownOutside(event),null==onInteractOutside||onInteractOutside(event),event.defaultPrevented||null==onDismiss||onDismiss())})),focusOutside=function useFocusOutside(onFocusOutside){const handleFocusOutside=(0,dist_esm.z)(onFocusOutside),isFocusInsideReactTreeRef=react.useRef(!1);return react.useEffect((()=>{const handleFocus=event=>{if(event.target&&!isFocusInsideReactTreeRef.current){handleAndDispatchCustomEvent("dismissable.focusOutside",handleFocusOutside,{originalEvent:event},{discrete:!1})}};return document.addEventListener("focusin",handleFocus),()=>document.removeEventListener("focusin",handleFocus)}),[handleFocusOutside]),{onFocusCapture:()=>{isFocusInsideReactTreeRef.current=!0},onBlurCapture:()=>{isFocusInsideReactTreeRef.current=!1}}}((event=>{const target=event.target;[...context.branches].some((branch=>branch.contains(target)))||(null==onFocusOutside||onFocusOutside(event),null==onInteractOutside||onInteractOutside(event),event.defaultPrevented||null==onDismiss||onDismiss())}));return useEscapeKeydown((event=>{index===context.layers.size-1&&(null==onEscapeKeyDown||onEscapeKeyDown(event),!event.defaultPrevented&&onDismiss&&(event.preventDefault(),onDismiss()))})),react.useEffect((()=>{if(node)return disableOutsidePointerEvents&&(0===context.layersWithOutsidePointerEventsDisabled.size&&(originalBodyPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),context.layersWithOutsidePointerEventsDisabled.add(node)),context.layers.add(node),dispatchUpdate(),()=>{disableOutsidePointerEvents&&1===context.layersWithOutsidePointerEventsDisabled.size&&(document.body.style.pointerEvents=originalBodyPointerEvents)}}),[node,disableOutsidePointerEvents,context]),react.useEffect((()=>{if(!forceUnmount)return()=>{node&&(context.layers.delete(node),context.layersWithOutsidePointerEventsDisabled.delete(node),dispatchUpdate())}}),[node,context,forceUnmount]),react.useEffect((()=>{const handleUpdate=()=>{force({})};return document.addEventListener(CONTEXT_UPDATE,handleUpdate),()=>document.removeEventListener(CONTEXT_UPDATE,handleUpdate)}),[]),(0,jsx_runtime.jsx)("div",{...layerProps,ref:composedRefs,style:{display:"contents",pointerEvents:isBodyPointerEventsDisabled?isPointerEventsEnabled?"auto":"none":void 0,...props.style},onFocusCapture:(0,esm.composeEventHandlers)(props.onFocusCapture,focusOutside.onFocusCapture),onBlurCapture:(0,esm.composeEventHandlers)(props.onBlurCapture,focusOutside.onBlurCapture),onPointerDownCapture:(0,esm.composeEventHandlers)(props.onPointerDownCapture,pointerDownOutside.onPointerDownCapture)})}));Dismissable.displayName="Dismissable";function dispatchUpdate(){const event=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(event)}function handleAndDispatchCustomEvent(name,handler,detail,{discrete}){const target=detail.originalEvent.target,event=new CustomEvent(name,{bubbles:!1,cancelable:!0,detail});handler&&target.addEventListener(name,handler,{once:!0}),discrete?function dispatchDiscreteCustomEvent(target,event){target&&react_dom.flushSync((()=>target.dispatchEvent(event)))}(target,event):target.dispatchEvent(event)}react.forwardRef(((props,forwardedRef)=>{const context=react.useContext(DismissableContext),ref=react.useRef(null),composedRefs=(0,compose_refs.e)(forwardedRef,ref);return react.useEffect((()=>{const node=ref.current;if(node)return context.branches.add(node),()=>{context.branches.delete(node)}}),[context.branches]),(0,jsx_runtime.jsx)("div",{style:{display:"contents"},...props,ref:composedRefs})})).displayName="DismissableBranch"},"../../node_modules/@tamagui/web/dist/esm/hooks/useProps.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>useProps});var _useMedia__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@tamagui/web/dist/esm/hooks/useMedia.js");function useProps(props,opts){return(0,_useMedia__WEBPACK_IMPORTED_MODULE_0__.lA)(props,{expandShorthands:!(null==opts?void 0:opts.disableExpandShorthands)})}}}]);